import{P as le,v as H,u as j,S as G,i as P,s as U,n as O,d as h,m as u,b as R,e as y,f as A,j as b,Q as ue,z as fe,O as de,J as K,R as B,I as x,K as me,L as he,M as ge,N as _e,c as k,T as pe,x as se,o as ve,h as N,k as q,C as ae,E as ie,F as re,D as oe,U as ye,g as Q,q as be,p as F,t as X,H as we,V as ke,w as ce}from"../chunks/CGR35vza.js";import"../chunks/IHki7fMi.js";function L(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Ee(r,e){j(r,1,1,()=>{e.delete(r.key)})}function Ce(r,e,n,a,t,o,l,i,s,f,E,C){let p=r.length,d=o.length,_=p;const D={};for(;_--;)D[r[_].key]=_;const g=[],T=new Map,m=new Map,c=[];for(_=d;_--;){const v=C(t,o,_),V=n(v);let S=l.get(V);S?c.push(()=>S.p(v,e)):(S=f(V,v),S.c()),T.set(V,g[_]=S),V in D&&m.set(V,Math.abs(_-D[V]))}const M=new Set,w=new Set;function I(v){H(v,1),v.m(i,E),l.set(v.key,v),E=v.first,d--}for(;p&&d;){const v=g[d-1],V=r[p-1],S=v.key,z=V.key;v===V?(E=v.first,p--,d--):T.has(z)?!l.has(S)||M.has(S)?I(v):w.has(z)?p--:m.get(S)>m.get(z)?(w.add(S),I(v)):(M.add(z),p--):(s(V,l),p--)}for(;p--;){const v=r[p];T.has(v.key)||s(v,l)}for(;d;)I(g[d-1]);return le(c),g}function Y(r){let e,n,a,t,o,l;return{c(){e=b("img"),this.h()},l(i){e=y(i,"IMG",{src:!0,alt:!0,loading:!0,decoding:!0,fetchpriority:!0,class:!0,style:!0}),this.h()},h(){K(e.src,n=r[0])||u(e,"src",n),u(e,"alt",r[1]),u(e,"loading","lazy"),u(e,"decoding","async"),u(e,"fetchpriority","low"),u(e,"class",a=`transition-opacity duration-300 ${r[4]}`.trim()),u(e,"style",t=`opacity: ${r[7]?1:0};`)},m(i,s){R(i,e,s),o||(l=B(e,"load",r[8]),o=!0)},p(i,s){s&1&&!K(e.src,n=i[0])&&u(e,"src",n),s&2&&u(e,"alt",i[1]),s&16&&a!==(a=`transition-opacity duration-300 ${i[4]}`.trim())&&u(e,"class",a),s&128&&t!==(t=`opacity: ${i[7]?1:0};`)&&u(e,"style",t)},d(i){i&&h(e),o=!1,l()}}}function Me(r){let e,n,a,t=r[6]&&Y(r);return{c(){e=b("div"),t&&t.c(),this.h()},l(o){e=y(o,"DIV",{class:!0,style:!0});var l=A(e);t&&t.l(l),l.forEach(h),this.h()},h(){u(e,"class",n=`relative overflow-hidden ${r[3]}`.trim()),u(e,"style",a=`background-color: ${r[2]};`)},m(o,l){R(o,e,l),t&&t.m(e,null),r[9](e)},p(o,[l]){o[6]?t?t.p(o,l):(t=Y(o),t.c(),t.m(e,null)):t&&(t.d(1),t=null),l&8&&n!==(n=`relative overflow-hidden ${o[3]}`.trim())&&u(e,"class",n),l&4&&a!==(a=`background-color: ${o[2]};`)&&u(e,"style",a)},i:O,o:O,d(o){o&&h(e),t&&t.d(),r[9](null)}}}function Ie(r,e,n){let{src:a=""}=e,{alt:t=""}=e,{fallbackColor:o="#f3f3f3"}=e,{wrapperClass:l=""}=e,{imgClass:i=""}=e,s,f,E=!1,C=!1;const p=ue("galleryScrollRoot"),d=()=>{n(6,E=!0),f&&(f.disconnect(),f=void 0)};fe(()=>{if(typeof IntersectionObserver>"u"||!s){d();return}const g=typeof p=="function"?p():null;f=new IntersectionObserver(T=>{for(const m of T)if(m.isIntersecting){d();break}},{root:g,rootMargin:"0px 200px 0px 0px"}),f.observe(s)}),de(()=>{f&&f.disconnect()});const _=()=>{n(7,C=!0)};function D(g){x[g?"unshift":"push"](()=>{s=g,n(5,s)})}return r.$$set=g=>{"src"in g&&n(0,a=g.src),"alt"in g&&n(1,t=g.alt),"fallbackColor"in g&&n(2,o=g.fallbackColor),"wrapperClass"in g&&n(3,l=g.wrapperClass),"imgClass"in g&&n(4,i=g.imgClass)},[a,t,o,l,i,s,E,C,_,D]}class De extends G{constructor(e){super(),P(this,e,Ie,Me,U,{src:0,alt:1,fallbackColor:2,wrapperClass:3,imgClass:4})}}function Te(r){let e,n,a,t,o;const l=r[6].default,i=me(l,r,r[5],null);return{c(){e=b("div"),n=b("div"),i&&i.c(),this.h()},l(s){e=y(s,"DIV",{class:!0});var f=A(e);n=y(f,"DIV",{class:!0});var E=A(n);i&&i.l(E),E.forEach(h),f.forEach(h),this.h()},h(){u(n,"class","inner sc m-auto mt-0 mb-0 flex w-max flex-nowrap items-start justify-start gap-4 "),u(e,"class","outer w-[100%] overflow-x-auto scroll-smooth svelte-zdb62c")},m(s,f){R(s,e,f),k(e,n),i&&i.m(n,null),r[7](n),r[8](e),a=!0,t||(o=[B(e,"mousemove",r[2]),B(e,"mouseenter",r[3]),B(e,"scroll",r[4])],t=!0)},p(s,[f]){i&&i.p&&(!a||f&32)&&he(i,l,s,s[5],a?_e(l,s[5],f,null):ge(s[5]),null)},i(s){a||(H(i,s),a=!0)},o(s){j(i,s),a=!1},d(s){s&&h(e),i&&i.d(s),r[7](null),r[8](null),t=!1,le(o)}}}let Z=100;function Ve(r,e,n){let{$$slots:a={},$$scope:t}=e,o,l,i=!0,s=!1;pe("galleryScrollRoot",()=>o);function f(_){if(!i)return;const D=o.getBoundingClientRect().width,g=l.getBoundingClientRect().width;if(g<=D)return;const T=o.getBoundingClientRect(),c=(_.clientX-T.left-Z)/(D-Z*2),M=g-D;s=!0,o.scrollTo({left:M*c,behavior:"instant"}),requestAnimationFrame(()=>s=!1)}function E(_){i=!0}function C(_){s||(i=!1)}function p(_){x[_?"unshift":"push"](()=>{l=_,n(1,l)})}function d(_){x[_?"unshift":"push"](()=>{o=_,n(0,o)})}return r.$$set=_=>{"$$scope"in _&&n(5,t=_.$$scope)},[o,l,f,E,C,t,a,p,d]}class Ae extends G{constructor(e){super(),P(this,e,Ve,Te,U,{})}}function $(r,e,n){const a=r.slice();return a[3]=e[n],a}function ee(r,e,n){const a=r.slice();return a[6]=e[n],a}function Se(r){let e,n,a;return n=new Ae({props:{$$slots:{default:[He]},$$scope:{ctx:r}}}),{c(){e=b("a"),oe(n.$$.fragment),this.h()},l(t){e=y(t,"A",{href:!0,class:!0});var o=A(e);re(n.$$.fragment,o),o.forEach(h),this.h()},h(){u(e,"href",`/projects/${r[3].slug}`),u(e,"class","block")},m(t,o){R(t,e,o),ie(n,e,null),a=!0},p(t,o){const l={};o&512&&(l.$$scope={dirty:o,ctx:t}),n.$set(l)},i(t){a||(H(n.$$.fragment,t),a=!0)},o(t){j(n.$$.fragment,t),a=!1},d(t){t&&h(e),ae(n)}}}function Re(r){let e,n,a=L(r[3].media),t=[];for(let l=0;l<a.length;l+=1)t[l]=te(ee(r,a,l));const o=l=>j(t[l],1,1,()=>{t[l]=null});return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=F()},l(l){for(let i=0;i<t.length;i+=1)t[i].l(l);e=F()},m(l,i){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,i);R(l,e,i),n=!0},p(l,i){if(i&1){a=L(l[3].media);let s;for(s=0;s<a.length;s+=1){const f=ee(l,a,s);t[s]?(t[s].p(f,i),H(t[s],1)):(t[s]=te(f),t[s].c(),H(t[s],1),t[s].m(e.parentNode,e))}for(ce(),s=a.length;s<t.length;s+=1)o(s);se()}},i(l){if(!n){for(let i=0;i<a.length;i+=1)H(t[i]);n=!0}},o(l){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)j(t[i]);n=!1},d(l){l&&h(e),ke(t,l)}}}function te(r){let e,n;return e=new De({props:{src:r[6],alt:"",fallbackColor:"#f3f3f3",wrapperClass:"h-[340px] flex-shrink-0 rounded",imgClass:"h-full w-full object-cover"}}),{c(){oe(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,t){ie(e,a,t),n=!0},p:O,i(a){n||(H(e.$$.fragment,a),n=!0)},o(a){j(e.$$.fragment,a),n=!1},d(a){ae(e,a)}}}function He(r){var M;let e,n,a,t,o=r[1](r[3].date)+"",l,i,s,f,E=r[3].title+"",C,p,d,_,D=(r[3].summaryHtml||"")+"",g,T,m,c=((M=r[3].media)==null?void 0:M.length)>0&&Re(r);return{c(){e=b("div"),n=b("div"),a=b("div"),t=b("time"),l=X(o),i=q(),s=b("div"),f=b("div"),C=X(E),p=q(),d=b("div"),_=new we(!1),g=q(),c&&c.c(),T=F(),this.h()},l(w){e=y(w,"DIV",{class:!0});var I=A(e);n=y(I,"DIV",{class:!0});var v=A(n);a=y(v,"DIV",{class:!0});var V=A(a);t=y(V,"TIME",{class:!0});var S=A(t);l=Q(S,o),S.forEach(h),i=N(V),s=y(V,"DIV",{class:!0});var z=A(s);f=y(z,"DIV",{class:!0});var W=A(f);C=Q(W,E),W.forEach(h),z.forEach(h),V.forEach(h),p=N(v),d=y(v,"DIV",{class:!0});var J=A(d);_=be(J,!1),J.forEach(h),v.forEach(h),I.forEach(h),g=N(w),c&&c.l(w),T=F(),this.h()},h(){u(t,"class","text-gray-500 text-sm [font-variant-numeric:tabular-nums]"),u(f,"class","text-2xl leading-[1.2] break-words"),u(s,"class","text-black overflow-hidden"),u(a,"class","grid grid-cols-[auto,1fr] text-left"),_.a=null,u(d,"class","content text-[0.9rem] leading-[1.2rem] text-wrap"),ye(d,"opacity-0",!r[3].summaryHtml),u(n,"class","space-y-3"),u(e,"class","flex-shrink-0 max-w-[300px] h-auto text-sm md:max-w-[350px] md:text-base")},m(w,I){R(w,e,I),k(e,n),k(n,a),k(a,t),k(t,l),k(a,i),k(a,s),k(s,f),k(f,C),k(n,p),k(n,d),_.m(D,d),R(w,g,I),c&&c.m(w,I),R(w,T,I),m=!0},p(w,I){var v;((v=w[3].media)==null?void 0:v.length)>0&&c.p(w,I)},i(w){m||(H(c),m=!0)},o(w){j(c),m=!1},d(w){w&&(h(e),h(g),h(T)),c&&c.d(w)}}}function ne(r,e){var l;let n,a,t,o=(((l=e[3].media)==null?void 0:l.length)>0||e[3].summaryHtml)&&Se(e);return{key:r,first:null,c(){n=b("div"),o&&o.c(),a=q(),this.h()},l(i){n=y(i,"DIV",{class:!0});var s=A(n);o&&o.l(s),a=N(s),s.forEach(h),this.h()},h(){u(n,"class","border-b border-gray-200 mb-2"),this.first=n},m(i,s){R(i,n,s),o&&o.m(n,null),k(n,a),t=!0},p(i,s){var f;e=i,(((f=e[3].media)==null?void 0:f.length)>0||e[3].summaryHtml)&&o.p(e,s)},i(i){t||(H(o),t=!0)},o(i){j(o),t=!1},d(i){i&&h(n),o&&o.d()}}}function je(r){let e,n,a,t,o,l,i,s,f,E,C,p,d=[],_=new Map,D,g=L(r[0]);const T=m=>m[3].slug;for(let m=0;m<g.length;m+=1){let c=$(r,g,m),M=T(c);_.set(M,d[m]=ne(M,c))}return{c(){e=b("meta"),n=b("meta"),a=b("meta"),t=b("meta"),o=b("meta"),l=b("meta"),i=b("meta"),s=b("meta"),f=b("meta"),E=q(),C=b("main"),p=b("div");for(let m=0;m<d.length;m+=1)d[m].c();this.h()},l(m){const c=ve("svelte-hi60me",document.head);e=y(c,"META",{name:!0,content:!0}),n=y(c,"META",{property:!0,content:!0}),a=y(c,"META",{property:!0,content:!0}),t=y(c,"META",{property:!0,content:!0}),o=y(c,"META",{property:!0,content:!0}),l=y(c,"META",{name:!0,content:!0}),i=y(c,"META",{name:!0,content:!0}),s=y(c,"META",{name:!0,content:!0}),f=y(c,"META",{name:!0,content:!0}),c.forEach(h),E=N(m),C=y(m,"MAIN",{class:!0});var M=A(C);p=y(M,"DIV",{class:!0});var w=A(p);for(let I=0;I<d.length;I+=1)d[I].l(w);w.forEach(h),M.forEach(h),this.h()},h(){document.title="krisenstab",u(e,"name","description"),u(e,"content",`Design studio active in interaction
    design, data visualisation, software development and media design`),u(n,"property","og:title"),u(n,"content","krisenstab"),u(a,"property","og:description"),u(a,"content","Design studio active in interaction design, data visualisation, software development and media design"),u(t,"property","og:image"),u(t,"content","https://krisenstab.net/og-image.png"),u(o,"property","og:url"),u(o,"content","https://krisenstab.net/"),u(l,"name","twitter:card"),u(l,"content","summary_large_image"),u(i,"name","twitter:title"),u(i,"content","krisenstab"),u(s,"name","twitter:description"),u(s,"content","Design studio active in interaction design, data visualisation, software development and media design"),u(f,"name","twitter:image"),u(f,"content","https://krisenstab.net/og-image.png"),u(p,"class","p-container space-y-2"),u(C,"class","mx-auto max-w-screen-3xl mt-2 px-3 text-black text-balance")},m(m,c){k(document.head,e),k(document.head,n),k(document.head,a),k(document.head,t),k(document.head,o),k(document.head,l),k(document.head,i),k(document.head,s),k(document.head,f),R(m,E,c),R(m,C,c),k(C,p);for(let M=0;M<d.length;M+=1)d[M]&&d[M].m(p,null);D=!0},p(m,[c]){c&3&&(g=L(m[0]),ce(),d=Ce(d,c,T,1,m,g,_,p,Ee,ne,null,$),se())},i(m){if(!D){for(let c=0;c<g.length;c+=1)H(d[c]);D=!0}},o(m){for(let c=0;c<d.length;c+=1)j(d[c]);D=!1},d(m){m&&(h(E),h(C)),h(e),h(n),h(a),h(t),h(o),h(l),h(i),h(s),h(f);for(let c=0;c<d.length;c+=1)d[c].d()}}}function ze(r,e,n){let{data:a}=e;const t=a.projects||[],o=l=>{if(!l)return"â€”";if(/^\d{4}(-\d{4})?$/.test(l))return l;const i=new Date(l);return isNaN(i)?l:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(i)};return r.$$set=l=>{"data"in l&&n(2,a=l.data)},[t,o,a]}class Be extends G{constructor(e){super(),P(this,e,ze,je,U,{data:2})}}export{Be as component};
