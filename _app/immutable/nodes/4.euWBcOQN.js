import{K as X,p as Z,S as x,i as ee,s as te,n as q,d as v,b as M,c as m,D as p,e as j,f as w,m as ne,h as $,j as b,k as P,g as T,t as C,L as W,u as O,M as le}from"../chunks/Nxh5fYeO.js";import"../chunks/IHki7fMi.js";function U(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function se(i,e){i.d(1),e.delete(i.key)}function ie(i,e,n,t,s,a,l,h,_,D,r,f){let d=i.length,u=a.length,y=d;const N={};for(;y--;)N[i[y].key]=y;const I=[],V=new Map,H=new Map,F=[];for(y=u;y--;){const c=f(s,a,y),o=n(c);let g=l.get(o);g?F.push(()=>g.p(c,e)):(g=D(o,c),g.c()),V.set(o,I[y]=g),o in N&&H.set(o,Math.abs(y-N[o]))}const E=new Set,k=new Set;function L(c){Z(c,1),c.m(h,r),l.set(c.key,c),r=c.first,u--}for(;d&&u;){const c=I[u-1],o=i[d-1],g=c.key,A=o.key;c===o?(r=c.first,d--,u--):V.has(A)?!l.has(g)||E.has(g)?L(c):k.has(A)?d--:H.get(g)>H.get(A)?(k.add(g),L(c)):(E.add(A),d--):(_(o,l),d--)}for(;d--;){const c=i[d];V.has(c.key)||_(c,l)}for(;u;)L(I[u-1]);return X(F),I}const ae=!0,ve=Object.freeze(Object.defineProperty({__proto__:null,prerender:ae},Symbol.toStringTag,{value:"Module"})),ce=[{date:"2024 - ongoing",title:"Vantage",urls:["https://vantage.thometnanni.net/"],info:"",media:["https://vantage.thometnanni.net/assets/demo_8-DagaHP2N.png","https://vantage.thometnanni.net/assets/demo_11-CFVEcSkp.png","https://vantage.thometnanni.net/assets/demo_2-DYDR2NUG.png"]},{date:"2025",title:"Unfolding the Archive",urls:["https://unfolding-the-archive.thometnanni.net/"],media:["/media/unfolding_1.png","/media/unfolding_4.png","/media/unfolding_2.png","/media/unfolding_5.png"],info:""},{date:"2025",title:"China Unofficial Archive",urls:[],media:["/media/cua_1.png","/media/cua_3.png","/media/cua_4.png"],info:"In Progress"}];function z(i,e,n){const t=i.slice();return t[1]=e[n],t}function R(i,e,n){const t=i.slice();return t[4]=e[n],t}function Y(i,e,n){const t=i.slice();return t[7]=e[n],t[9]=n,t}function oe(i){let e;return{c(){e=C("—")},l(n){e=T(n,"—")},m(n,t){M(n,e,t)},p:q,d(n){n&&v(e)}}}function re(i){let e,n=U(i[1].urls),t=[];for(let s=0;s<n.length;s+=1)t[s]=B(Y(i,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=O()},l(s){for(let a=0;a<t.length;a+=1)t[a].l(s);e=O()},m(s,a){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(s,a);M(s,e,a)},p(s,a){if(a&1){n=U(s[1].urls);let l;for(l=0;l<n.length;l+=1){const h=Y(s,n,l);t[l]?t[l].p(h,a):(t[l]=B(h),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(s){s&&v(e),W(t,s)}}}function B(i){let e,n,t=i[9]+1+"",s,a=i[9]<i[1].urls.length-1?", ":"",l;return{c(){e=b("a"),n=C("Link "),s=C(t),l=C(a),this.h()},l(h){e=j(h,"A",{href:!0,target:!0,rel:!0});var _=w(e);n=T(_,"Link "),s=T(_,t),_.forEach(v),l=T(h,a),this.h()},h(){p(e,"href",i[7]),p(e,"target","_blank"),p(e,"rel","noopener")},m(h,_){M(h,e,_),m(e,n),m(e,s),M(h,l,_)},p:q,d(h){h&&(v(e),v(l))}}}function he(i){let e,n=U(i[1].media),t=[];for(let s=0;s<n.length;s+=1)t[s]=J(R(i,n,s));return{c(){e=b("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=j(s,"DIV",{class:!0});var a=w(e);for(let l=0;l<t.length;l+=1)t[l].l(a);a.forEach(v),this.h()},h(){p(e,"class","media svelte-a6j9ha")},m(s,a){M(s,e,a);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(s,a){if(a&1){n=U(s[1].media);let l;for(l=0;l<n.length;l+=1){const h=R(s,n,l);t[l]?t[l].p(h,a):(t[l]=J(h),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(s){s&&v(e),W(t,s)}}}function J(i){let e,n;return{c(){e=b("img"),this.h()},l(t){e=j(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){le(e.src,n=i[4])||p(e,"src",n),p(e,"alt",""),p(e,"class","svelte-a6j9ha")},m(t,s){M(t,e,s)},p:q,d(t){t&&v(e)}}}function Q(i,e){var L;let n,t,s=de(e[1].date)+"",a,l,h,_=e[1].title+"",D,r,f,d,u,y=(e[1].info||"—")+"",N,I,V;function H(c,o){return Array.isArray(c[1].urls)&&c[1].urls.length>0?re:oe}let E=H(e)(e),k=((L=e[1].media)==null?void 0:L.length)>0&&he(e);return{key:i,first:null,c(){n=b("div"),t=b("time"),a=C(s),l=P(),h=b("div"),D=C(_),r=P(),f=b("div"),E.c(),d=P(),u=b("div"),N=C(y),I=P(),k&&k.c(),V=P(),this.h()},l(c){n=j(c,"DIV",{class:!0});var o=w(n);t=j(o,"TIME",{class:!0});var g=w(t);a=T(g,s),g.forEach(v),l=$(o),h=j(o,"DIV",{class:!0});var A=w(h);D=T(A,_),A.forEach(v),r=$(o),f=j(o,"DIV",{class:!0});var G=w(f);E.l(G),G.forEach(v),d=$(o),u=j(o,"DIV",{class:!0});var K=w(u);N=T(K,y),K.forEach(v),I=$(o),k&&k.l(o),V=$(o),o.forEach(v),this.h()},h(){p(t,"class","col time svelte-a6j9ha"),p(h,"class","col project svelte-a6j9ha"),p(f,"class","col link svelte-a6j9ha"),p(u,"class","col info svelte-a6j9ha"),p(n,"class","row svelte-a6j9ha"),this.first=n},m(c,o){M(c,n,o),m(n,t),m(t,a),m(n,l),m(n,h),m(h,D),m(n,r),m(n,f),E.m(f,null),m(n,d),m(n,u),m(u,N),m(n,I),k&&k.m(n,null),m(n,V)},p(c,o){var g;e=c,E.p(e,o),((g=e[1].media)==null?void 0:g.length)>0&&k.p(e,o)},d(c){c&&v(n),E.d(),k&&k.d()}}}function fe(i){let e,n,t='<div class="col time svelte-a6j9ha">time <span class="small svelte-a6j9ha">↓</span></div> <div class="col project svelte-a6j9ha">project</div> <div class="col link svelte-a6j9ha">links</div> <div class="col info svelte-a6j9ha">info</div>',s,a,l=[],h=new Map,_=U(i[0]);const D=r=>r[1].title;for(let r=0;r<_.length;r+=1){let f=z(i,_,r),d=D(f);h.set(d,l[r]=Q(d,f))}return{c(){e=b("main"),n=b("div"),n.innerHTML=t,s=P(),a=b("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=j(r,"MAIN",{class:!0});var f=w(e);n=j(f,"DIV",{class:!0,"data-svelte-h":!0}),ne(n)!=="svelte-1ln9le3"&&(n.innerHTML=t),s=$(f),a=j(f,"DIV",{class:!0});var d=w(a);for(let u=0;u<l.length;u+=1)l[u].l(d);d.forEach(v),f.forEach(v),this.h()},h(){p(n,"class","row header svelte-a6j9ha"),p(a,"class","rows svelte-a6j9ha"),p(e,"class","archive svelte-a6j9ha")},m(r,f){M(r,e,f),m(e,n),m(e,s),m(e,a);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(a,null)},p(r,[f]){f&1&&(_=U(r[0]),l=ie(l,f,D,1,r,_,h,a,se,Q,null,z))},i:q,o:q,d(r){r&&v(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function S(i){if(!i)return-1/0;if(/^\d{4}$/.test(i))return Number(i);const e=i.match(/^(\d{4})-(\d{4})$/);if(e)return Number(e[2]);const n=new Date(i);return isNaN(n)?-1/0:n.getTime()}function de(i){if(!i)return"—";if(/^\d{4}(-\d{4})?$/.test(i))return i;const e=new Date(i);return isNaN(e)?i:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e)}function ue(i){return[[...ce].sort((n,t)=>{const s=S(n.date),a=S(t.date);return a!==s?a-s:(n.title||"").localeCompare(t.title||"","en",{sensitivity:"base"})})]}class ge extends x{constructor(e){super(),ee(this,e,ue,fe,te,{})}}export{ge as component,ve as universal};
