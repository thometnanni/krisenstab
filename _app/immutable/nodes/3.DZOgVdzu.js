import{O as ae,v as x,u as z,S as Z,i as $,s as ee,n as F,d as g,m as d,b as S,e as y,f as V,j as w,z as le,P as se,J as G,Q as ie,I as re,x as te,c as v,o as oe,h as N,k as q,R as ce,g as J,q as de,t as Q,H as ue,T as fe,w as ne,p as R,C as me,E as he,F as ge,D as _e}from"../chunks/C0xmoXcc.js";import"../chunks/IHki7fMi.js";function O(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function pe(i,e){z(i,1,1,()=>{e.delete(i.key)})}function ve(i,e,l,a,t,o,n,s,r,f,k,C){let _=i.length,m=o.length,b=_;const h={};for(;b--;)h[i[b].key]=b;const A=[],H=new Map,u=new Map,c=[];for(b=m;b--;){const p=C(t,o,b),D=l(p);let T=n.get(D);T?c.push(()=>T.p(p,e)):(T=f(D,p),T.c()),H.set(D,A[b]=T),D in h&&u.set(D,Math.abs(b-h[D]))}const E=new Set,I=new Set;function M(p){x(p,1),p.m(s,k),n.set(p.key,p),k=p.first,m--}for(;_&&m;){const p=A[m-1],D=i[_-1],T=p.key,j=D.key;p===D?(k=p.first,_--,m--):H.has(j)?!n.has(T)||E.has(T)?M(p):I.has(j)?_--:u.get(T)>u.get(j)?(I.add(T),M(p)):(E.add(j),_--):(r(D,n),_--)}for(;_--;){const p=i[_];H.has(p.key)||r(p,n)}for(;m;)M(A[m-1]);return ae(c),A}function U(i){let e,l,a,t,o,n;return{c(){e=w("img"),this.h()},l(s){e=y(s,"IMG",{src:!0,alt:!0,loading:!0,decoding:!0,fetchpriority:!0,class:!0,style:!0}),this.h()},h(){G(e.src,l=i[0])||d(e,"src",l),d(e,"alt",i[1]),d(e,"loading","lazy"),d(e,"decoding","async"),d(e,"fetchpriority","low"),d(e,"class",a=`transition-opacity duration-300 ${i[4]}`.trim()),d(e,"style",t=`opacity: ${i[7]?1:0};`)},m(s,r){S(s,e,r),o||(n=ie(e,"load",i[8]),o=!0)},p(s,r){r&1&&!G(e.src,l=s[0])&&d(e,"src",l),r&2&&d(e,"alt",s[1]),r&16&&a!==(a=`transition-opacity duration-300 ${s[4]}`.trim())&&d(e,"class",a),r&128&&t!==(t=`opacity: ${s[7]?1:0};`)&&d(e,"style",t)},d(s){s&&g(e),o=!1,n()}}}function ye(i){let e,l,a,t=i[6]&&U(i);return{c(){e=w("div"),t&&t.c(),this.h()},l(o){e=y(o,"DIV",{class:!0,style:!0});var n=V(e);t&&t.l(n),n.forEach(g),this.h()},h(){d(e,"class",l=`relative overflow-hidden ${i[3]}`.trim()),d(e,"style",a=`background-color: ${i[2]};`)},m(o,n){S(o,e,n),t&&t.m(e,null),i[9](e)},p(o,[n]){o[6]?t?t.p(o,n):(t=U(o),t.c(),t.m(e,null)):t&&(t.d(1),t=null),n&8&&l!==(l=`relative overflow-hidden ${o[3]}`.trim())&&d(e,"class",l),n&4&&a!==(a=`background-color: ${o[2]};`)&&d(e,"style",a)},i:F,o:F,d(o){o&&g(e),t&&t.d(),i[9](null)}}}function we(i,e,l){let{src:a=""}=e,{alt:t=""}=e,{fallbackColor:o="#f3f3f3"}=e,{wrapperClass:n=""}=e,{imgClass:s=""}=e,r,f,k=!1,C=!1;const _=()=>{l(6,k=!0),f&&(f.disconnect(),f=void 0)};le(()=>{if(typeof IntersectionObserver>"u"||!r){_();return}f=new IntersectionObserver(h=>{for(const A of h)if(A.isIntersecting){_();break}},{rootMargin:"200px"}),f.observe(r)}),se(()=>{f&&f.disconnect()});const m=()=>{l(7,C=!0)};function b(h){re[h?"unshift":"push"](()=>{r=h,l(5,r)})}return i.$$set=h=>{"src"in h&&l(0,a=h.src),"alt"in h&&l(1,t=h.alt),"fallbackColor"in h&&l(2,o=h.fallbackColor),"wrapperClass"in h&&l(3,n=h.wrapperClass),"imgClass"in h&&l(4,s=h.imgClass)},[a,t,o,n,s,r,k,C,m,b]}class be extends Z{constructor(e){super(),$(this,e,we,ye,ee,{src:0,alt:1,fallbackColor:2,wrapperClass:3,imgClass:4})}}function K(i,e,l){const a=i.slice();return a[3]=e[l],a}function W(i,e,l){const a=i.slice();return a[6]=e[l],a}function ke(i){var E;let e,l,a,t,o,n=i[1](i[3].date)+"",s,r,f,k,C=i[3].title+"",_,m,b,h,A=(i[3].summaryHtml||"")+"",H,u,c=((E=i[3].media)==null?void 0:E.length)>0&&Ee(i);return{c(){e=w("div"),l=w("div"),a=w("div"),t=w("div"),o=w("time"),s=Q(n),r=q(),f=w("div"),k=w("a"),_=Q(C),m=q(),b=w("div"),h=new ue(!1),H=q(),c&&c.c(),this.h()},l(I){e=y(I,"DIV",{class:!0});var M=V(e);l=y(M,"DIV",{class:!0});var p=V(l);a=y(p,"DIV",{class:!0});var D=V(a);t=y(D,"DIV",{class:!0});var T=V(t);o=y(T,"TIME",{class:!0});var j=V(o);s=J(j,n),j.forEach(g),r=N(T),f=y(T,"DIV",{class:!0});var L=V(f);k=y(L,"A",{href:!0,class:!0});var P=V(k);_=J(P,C),P.forEach(g),L.forEach(g),T.forEach(g),m=N(D),b=y(D,"DIV",{class:!0});var B=V(b);h=de(B,!1),B.forEach(g),D.forEach(g),p.forEach(g),H=N(M),c&&c.l(M),M.forEach(g),this.h()},h(){d(o,"class","text-gray-500 text-sm [font-variant-numeric:tabular-nums]"),d(k,"href",`/projects/${i[3].slug}`),d(k,"class","text-2xl leading-.50em] break-words hover:underline"),d(f,"class","text-black overflow-hidden"),d(t,"class","grid grid-cols-[auto,1fr] text-left"),h.a=null,d(b,"class","content text-[0.9rem] leading-[1.2rem] md:text-[1.1rem] md:leading-[1.5rem] text-wrap"),ce(b,"opacity-0",!i[3].summaryHtml),d(a,"class","space-y-3"),d(l,"class","sticky left-0 top-0 z-0 flex-shrink-0 max-w-[300px] h-auto text-sm md:max-w-[350px] md:text-base"),d(e,"class","flex overflow-x-auto gap-2 py-3 no-scrollbar svelte-cx7y6f")},m(I,M){S(I,e,M),v(e,l),v(l,a),v(a,t),v(t,o),v(o,s),v(t,r),v(t,f),v(f,k),v(k,_),v(a,m),v(a,b),h.m(A,b),v(e,H),c&&c.m(e,null),u=!0},p(I,M){var p;((p=I[3].media)==null?void 0:p.length)>0&&c.p(I,M)},i(I){u||(x(c),u=!0)},o(I){z(c),u=!1},d(I){I&&g(e),c&&c.d()}}}function Ee(i){let e,l,a=O(i[3].media),t=[];for(let n=0;n<a.length;n+=1)t[n]=X(W(i,a,n));const o=n=>z(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=R()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=R()},m(n,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(n,s);S(n,e,s),l=!0},p(n,s){if(s&1){a=O(n[3].media);let r;for(r=0;r<a.length;r+=1){const f=W(n,a,r);t[r]?(t[r].p(f,s),x(t[r],1)):(t[r]=X(f),t[r].c(),x(t[r],1),t[r].m(e.parentNode,e))}for(ne(),r=a.length;r<t.length;r+=1)o(r);te()}},i(n){if(!l){for(let s=0;s<a.length;s+=1)x(t[s]);l=!0}},o(n){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)z(t[s]);l=!1},d(n){n&&g(e),fe(t,n)}}}function X(i){let e,l;return e=new be({props:{src:i[6],alt:"",fallbackColor:"#f3f3f3",wrapperClass:"h-[340px] flex-shrink-0 rounded",imgClass:"h-full w-full object-cover"}}),{c(){_e(e.$$.fragment)},l(a){ge(e.$$.fragment,a)},m(a,t){he(e,a,t),l=!0},p:F,i(a){l||(x(e.$$.fragment,a),l=!0)},o(a){z(e.$$.fragment,a),l=!1},d(a){me(e,a)}}}function Y(i,e){var n;let l,a,t,o=(((n=e[3].media)==null?void 0:n.length)>0||e[3].summaryHtml)&&ke(e);return{key:i,first:null,c(){l=w("div"),o&&o.c(),a=q(),this.h()},l(s){l=y(s,"DIV",{class:!0});var r=V(l);o&&o.l(r),a=N(r),r.forEach(g),this.h()},h(){d(l,"class","border-b border-gray-200 mb-2"),this.first=l},m(s,r){S(s,l,r),o&&o.m(l,null),v(l,a),t=!0},p(s,r){var f;e=s,(((f=e[3].media)==null?void 0:f.length)>0||e[3].summaryHtml)&&o.p(e,r)},i(s){t||(x(o),t=!0)},o(s){z(o),t=!1},d(s){s&&g(l),o&&o.d()}}}function Ie(i){let e,l,a,t,o,n,s,r,f,k,C,_,m=[],b=new Map,h,A=O(i[0]);const H=u=>u[3].slug;for(let u=0;u<A.length;u+=1){let c=K(i,A,u),E=H(c);b.set(E,m[u]=Y(E,c))}return{c(){e=w("meta"),l=w("meta"),a=w("meta"),t=w("meta"),o=w("meta"),n=w("meta"),s=w("meta"),r=w("meta"),f=w("meta"),k=q(),C=w("main"),_=w("div");for(let u=0;u<m.length;u+=1)m[u].c();this.h()},l(u){const c=oe("svelte-hi60me",document.head);e=y(c,"META",{name:!0,content:!0}),l=y(c,"META",{property:!0,content:!0}),a=y(c,"META",{property:!0,content:!0}),t=y(c,"META",{property:!0,content:!0}),o=y(c,"META",{property:!0,content:!0}),n=y(c,"META",{name:!0,content:!0}),s=y(c,"META",{name:!0,content:!0}),r=y(c,"META",{name:!0,content:!0}),f=y(c,"META",{name:!0,content:!0}),c.forEach(g),k=N(u),C=y(u,"MAIN",{class:!0});var E=V(C);_=y(E,"DIV",{class:!0});var I=V(_);for(let M=0;M<m.length;M+=1)m[M].l(I);I.forEach(g),E.forEach(g),this.h()},h(){document.title="krisenstab",d(e,"name","description"),d(e,"content",`Design studio active in interaction
    design, data visualisation, software development and media design`),d(l,"property","og:title"),d(l,"content","krisenstab"),d(a,"property","og:description"),d(a,"content","Design studio active in interaction design, data visualisation, software development and media design"),d(t,"property","og:image"),d(t,"content","https://krisenstab.net/og-image.png"),d(o,"property","og:url"),d(o,"content","https://krisenstab.net/"),d(n,"name","twitter:card"),d(n,"content","summary_large_image"),d(s,"name","twitter:title"),d(s,"content","krisenstab"),d(r,"name","twitter:description"),d(r,"content","Design studio active in interaction design, data visualisation, software development and media design"),d(f,"name","twitter:image"),d(f,"content","https://krisenstab.net/og-image.png"),d(_,"class","p-container space-y-2"),d(C,"class","mx-auto max-w-screen-3xl mt-2 px-3 text-black text-balance")},m(u,c){v(document.head,e),v(document.head,l),v(document.head,a),v(document.head,t),v(document.head,o),v(document.head,n),v(document.head,s),v(document.head,r),v(document.head,f),S(u,k,c),S(u,C,c),v(C,_);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(_,null);h=!0},p(u,[c]){c&3&&(A=O(u[0]),ne(),m=ve(m,c,H,1,u,A,b,_,pe,Y,null,K),te())},i(u){if(!h){for(let c=0;c<A.length;c+=1)x(m[c]);h=!0}},o(u){for(let c=0;c<m.length;c+=1)z(m[c]);h=!1},d(u){u&&(g(k),g(C)),g(e),g(l),g(a),g(t),g(o),g(n),g(s),g(r),g(f);for(let c=0;c<m.length;c+=1)m[c].d()}}}function Me(i,e,l){let{data:a}=e;const t=a.projects||[],o=n=>{if(!n)return"â€”";if(/^\d{4}(-\d{4})?$/.test(n))return n;const s=new Date(n);return isNaN(s)?n:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(s)};return i.$$set=n=>{"data"in n&&l(2,a=n.data)},[t,o,a]}class Te extends Z{constructor(e){super(),$(this,e,Me,Ie,ee,{data:2})}}export{Te as component};
