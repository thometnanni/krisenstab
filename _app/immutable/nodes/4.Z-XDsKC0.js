import{K as Q,p as R,S as W,i as X,s as Y,n as K,d as _,b as L,c as v,D as w,e as b,f as N,m as Z,h as C,j as I,k as P,g as A,t as V,L as S,u as q}from"../chunks/Cm_K6hsx.js";import"../chunks/IHki7fMi.js";function O(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function x(n,e){n.d(1),e.delete(n.key)}function ee(n,e,t,s,i,a,l,h,d,D,c,o){let r=n.length,u=a.length,k=r;const j={};for(;k--;)j[n[k].key]=k;const E=[],$=new Map,U=new Map,M=[];for(k=u;k--;){const f=o(i,a,k),g=t(f);let y=l.get(g);y?M.push(()=>y.p(f,e)):(y=D(g,f),y.c()),$.set(g,E[k]=y),g in j&&U.set(g,Math.abs(k-j[g]))}const m=new Set,p=new Set;function T(f){R(f,1),f.m(h,c),l.set(f.key,f),c=f.first,u--}for(;r&&u;){const f=E[u-1],g=n[r-1],y=f.key,H=g.key;f===g?(c=f.first,r--,u--):$.has(H)?!l.has(y)||m.has(y)?T(f):p.has(H)?r--:U.get(y)>U.get(H)?(p.add(y),T(f)):(m.add(H),r--):(d(g,l),r--)}for(;r--;){const f=n[r];$.has(f.key)||d(f,l)}for(;u;)T(E[u-1]);return Q(M),E}const te=!0,he=Object.freeze(Object.defineProperty({__proto__:null,prerender:te},Symbol.toStringTag,{value:"Module"})),ne=[{date:"2024 - ongoing",title:"Vantage",urls:["https://vantage.thometnanni.net/"],info:""},{date:"2025",title:"Unfolding the Archive",urls:["https://unfolding-the-archive.thometnanni.net/"],info:""},{date:"2025",title:"China Unofficial Archive",urls:[],info:"In Progress"}];function z(n,e,t){const s=n.slice();return s[1]=e[t],s}function F(n,e,t){const s=n.slice();return s[4]=e[t],s[6]=t,s}function le(n){let e;return{c(){e=V("—")},l(t){e=A(t,"—")},m(t,s){L(t,e,s)},p:K,d(t){t&&_(e)}}}function se(n){let e,t=O(n[1].urls),s=[];for(let i=0;i<t.length;i+=1)s[i]=B(F(n,t,i));return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=q()},l(i){for(let a=0;a<s.length;a+=1)s[a].l(i);e=q()},m(i,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(i,a);L(i,e,a)},p(i,a){if(a&1){t=O(i[1].urls);let l;for(l=0;l<t.length;l+=1){const h=F(i,t,l);s[l]?s[l].p(h,a):(s[l]=B(h),s[l].c(),s[l].m(e.parentNode,e))}for(;l<s.length;l+=1)s[l].d(1);s.length=t.length}},d(i){i&&_(e),S(s,i)}}}function B(n){let e,t,s=n[6]+1+"",i,a=n[6]<n[1].urls.length-1?", ":"",l;return{c(){e=I("a"),t=V("Link "),i=V(s),l=V(a),this.h()},l(h){e=b(h,"A",{href:!0,target:!0,rel:!0});var d=N(e);t=A(d,"Link "),i=A(d,s),d.forEach(_),l=A(h,a),this.h()},h(){w(e,"href",n[4]),w(e,"target","_blank"),w(e,"rel","noopener")},m(h,d){L(h,e,d),v(e,t),v(e,i),L(h,l,d)},p:K,d(h){h&&(_(e),_(l))}}}function G(n,e){let t,s,i=ae(e[1].date)+"",a,l,h,d=e[1].title+"",D,c,o,r,u,k=(e[1].info||"—")+"",j,E;function $(m,p){return Array.isArray(m[1].urls)&&m[1].urls.length>0?se:le}let M=$(e)(e);return{key:n,first:null,c(){t=I("div"),s=I("time"),a=V(i),l=P(),h=I("div"),D=V(d),c=P(),o=I("div"),M.c(),r=P(),u=I("div"),j=V(k),E=P(),this.h()},l(m){t=b(m,"DIV",{class:!0});var p=N(t);s=b(p,"TIME",{class:!0});var T=N(s);a=A(T,i),T.forEach(_),l=C(p),h=b(p,"DIV",{class:!0});var f=N(h);D=A(f,d),f.forEach(_),c=C(p),o=b(p,"DIV",{class:!0});var g=N(o);M.l(g),g.forEach(_),r=C(p),u=b(p,"DIV",{class:!0});var y=N(u);j=A(y,k),y.forEach(_),E=C(p),p.forEach(_),this.h()},h(){w(s,"class","col time svelte-12p056p"),w(h,"class","col project svelte-12p056p"),w(o,"class","col link svelte-12p056p"),w(u,"class","col info svelte-12p056p"),w(t,"class","row svelte-12p056p"),this.first=t},m(m,p){L(m,t,p),v(t,s),v(s,a),v(t,l),v(t,h),v(h,D),v(t,c),v(t,o),M.m(o,null),v(t,r),v(t,u),v(u,j),v(t,E)},p(m,p){e=m,M.p(e,p)},d(m){m&&_(t),M.d()}}}function ie(n){let e,t,s='<div class="col time svelte-12p056p">time <span class="small svelte-12p056p">↓</span></div> <div class="col project svelte-12p056p">project</div> <div class="col link svelte-12p056p">links</div> <div class="col info svelte-12p056p">info</div>',i,a,l=[],h=new Map,d=O(n[0]);const D=c=>c[1].title;for(let c=0;c<d.length;c+=1){let o=z(n,d,c),r=D(o);h.set(r,l[c]=G(r,o))}return{c(){e=I("main"),t=I("div"),t.innerHTML=s,i=P(),a=I("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=b(c,"MAIN",{class:!0});var o=N(e);t=b(o,"DIV",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1ln9le3"&&(t.innerHTML=s),i=C(o),a=b(o,"DIV",{class:!0});var r=N(a);for(let u=0;u<l.length;u+=1)l[u].l(r);r.forEach(_),o.forEach(_),this.h()},h(){w(t,"class","row header svelte-12p056p"),w(a,"class","rows svelte-12p056p"),w(e,"class","archive svelte-12p056p")},m(c,o){L(c,e,o),v(e,t),v(e,i),v(e,a);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(a,null)},p(c,[o]){o&1&&(d=O(c[0]),l=ee(l,o,D,1,c,d,h,a,x,G,null,z))},i:K,o:K,d(c){c&&_(e);for(let o=0;o<l.length;o+=1)l[o].d()}}}function J(n){if(!n)return-1/0;if(/^\d{4}$/.test(n))return Number(n);const e=n.match(/^(\d{4})-(\d{4})$/);if(e)return Number(e[2]);const t=new Date(n);return isNaN(t)?-1/0:t.getTime()}function ae(n){if(!n)return"—";if(/^\d{4}(-\d{4})?$/.test(n))return n;const e=new Date(n);return isNaN(e)?n:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e)}function ce(n){return[[...ne].sort((t,s)=>{const i=J(t.date),a=J(s.date);return a!==i?a-i:(t.title||"").localeCompare(s.title||"","en",{sensitivity:"base"})})]}class fe extends W{constructor(e){super(),X(this,e,ce,ie,Y,{})}}export{fe as component,he as universal};
