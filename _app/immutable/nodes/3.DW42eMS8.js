import{P as le,v as j,u as z,S as P,i as W,s as J,n as O,d as m,m as u,b as S,e as b,f as A,j as y,z as ue,O as fe,J as U,Q as B,I as G,K as de,L as me,M as he,N as ge,c as k,x as se,o as _e,h as R,k as q,C as ae,E as ie,F as re,D as oe,R as pe,g as X,q as ve,p as F,t as Y,H as be,T as ye,w as ce}from"../chunks/CY_suq71.js";import"../chunks/IHki7fMi.js";function L(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function we(r,e){z(r,1,1,()=>{e.delete(r.key)})}function ke(r,e,n,a,t,o,l,i,s,f,M,C){let p=r.length,d=o.length,g=p;const _={};for(;g--;)_[r[g].key]=g;const E=[],V=new Map,h=new Map,c=[];for(g=d;g--;){const v=C(t,o,g),T=n(v);let H=l.get(T);H?c.push(()=>H.p(v,e)):(H=f(T,v),H.c()),V.set(T,E[g]=H),T in _&&h.set(T,Math.abs(g-_[T]))}const I=new Set,w=new Set;function D(v){j(v,1),v.m(i,M),l.set(v.key,v),M=v.first,d--}for(;p&&d;){const v=E[d-1],T=r[p-1],H=v.key,N=T.key;v===T?(M=v.first,p--,d--):V.has(N)?!l.has(H)||I.has(H)?D(v):w.has(N)?p--:h.get(H)>h.get(N)?(w.add(H),D(v)):(I.add(N),p--):(s(T,l),p--)}for(;p--;){const v=r[p];V.has(v.key)||s(v,l)}for(;d;)D(E[d-1]);return le(c),E}function Z(r){let e,n,a,t,o,l;return{c(){e=y("img"),this.h()},l(i){e=b(i,"IMG",{src:!0,alt:!0,loading:!0,decoding:!0,fetchpriority:!0,class:!0,style:!0}),this.h()},h(){U(e.src,n=r[0])||u(e,"src",n),u(e,"alt",r[1]),u(e,"loading","lazy"),u(e,"decoding","async"),u(e,"fetchpriority","low"),u(e,"class",a=`transition-opacity duration-300 ${r[4]}`.trim()),u(e,"style",t=`opacity: ${r[7]?1:0};`)},m(i,s){S(i,e,s),o||(l=B(e,"load",r[8]),o=!0)},p(i,s){s&1&&!U(e.src,n=i[0])&&u(e,"src",n),s&2&&u(e,"alt",i[1]),s&16&&a!==(a=`transition-opacity duration-300 ${i[4]}`.trim())&&u(e,"class",a),s&128&&t!==(t=`opacity: ${i[7]?1:0};`)&&u(e,"style",t)},d(i){i&&m(e),o=!1,l()}}}function Ee(r){let e,n,a,t=r[6]&&Z(r);return{c(){e=y("div"),t&&t.c(),this.h()},l(o){e=b(o,"DIV",{class:!0,style:!0});var l=A(e);t&&t.l(l),l.forEach(m),this.h()},h(){u(e,"class",n=`relative overflow-hidden ${r[3]}`.trim()),u(e,"style",a=`background-color: ${r[2]};`)},m(o,l){S(o,e,l),t&&t.m(e,null),r[9](e)},p(o,[l]){o[6]?t?t.p(o,l):(t=Z(o),t.c(),t.m(e,null)):t&&(t.d(1),t=null),l&8&&n!==(n=`relative overflow-hidden ${o[3]}`.trim())&&u(e,"class",n),l&4&&a!==(a=`background-color: ${o[2]};`)&&u(e,"style",a)},i:O,o:O,d(o){o&&m(e),t&&t.d(),r[9](null)}}}function Me(r,e,n){let{src:a=""}=e,{alt:t=""}=e,{fallbackColor:o="#f3f3f3"}=e,{wrapperClass:l=""}=e,{imgClass:i=""}=e,s,f,M=!1,C=!1;const p=()=>{n(6,M=!0),f&&(f.disconnect(),f=void 0)};ue(()=>{if(typeof IntersectionObserver>"u"||!s){p();return}f=new IntersectionObserver(_=>{for(const E of _)if(E.isIntersecting){p();break}},{rootMargin:"200px"}),f.observe(s)}),fe(()=>{f&&f.disconnect()});const d=()=>{n(7,C=!0)};function g(_){G[_?"unshift":"push"](()=>{s=_,n(5,s)})}return r.$$set=_=>{"src"in _&&n(0,a=_.src),"alt"in _&&n(1,t=_.alt),"fallbackColor"in _&&n(2,o=_.fallbackColor),"wrapperClass"in _&&n(3,l=_.wrapperClass),"imgClass"in _&&n(4,i=_.imgClass)},[a,t,o,l,i,s,M,C,d,g]}class Ce extends P{constructor(e){super(),W(this,e,Me,Ee,J,{src:0,alt:1,fallbackColor:2,wrapperClass:3,imgClass:4})}}function Ie(r){let e,n,a,t,o;const l=r[6].default,i=de(l,r,r[5],null);return{c(){e=y("div"),n=y("div"),i&&i.c(),this.h()},l(s){e=b(s,"DIV",{class:!0});var f=A(e);n=b(f,"DIV",{class:!0});var M=A(n);i&&i.l(M),M.forEach(m),f.forEach(m),this.h()},h(){u(n,"class","inner sc m-auto mt-0 mb-0 flex w-max flex-nowrap items-start justify-start gap-4 "),u(e,"class","outer w-[100%] overflow-x-auto scroll-smooth svelte-zdb62c")},m(s,f){S(s,e,f),k(e,n),i&&i.m(n,null),r[7](n),r[8](e),a=!0,t||(o=[B(e,"mousemove",r[2]),B(e,"mouseenter",r[3]),B(e,"scroll",r[4])],t=!0)},p(s,[f]){i&&i.p&&(!a||f&32)&&me(i,l,s,s[5],a?ge(l,s[5],f,null):he(s[5]),null)},i(s){a||(j(i,s),a=!0)},o(s){z(i,s),a=!1},d(s){s&&m(e),i&&i.d(s),r[7](null),r[8](null),t=!1,le(o)}}}let $=20;function De(r,e,n){let{$$slots:a={},$$scope:t}=e,o,l,i=!0,s=!1;function f(g){if(!i)return;const _=o.getBoundingClientRect().width,E=l.getBoundingClientRect().width;if(E<=_)return;const V=o.getBoundingClientRect(),c=(g.clientX-V.left-$)/(_-$*2),I=E-_;s=!0,o.scrollTo({left:I*c,behavior:"instant"}),requestAnimationFrame(()=>s=!1)}function M(g){i=!0}function C(g){s||(i=!1)}function p(g){G[g?"unshift":"push"](()=>{l=g,n(1,l)})}function d(g){G[g?"unshift":"push"](()=>{o=g,n(0,o)})}return r.$$set=g=>{"$$scope"in g&&n(5,t=g.$$scope)},[o,l,f,M,C,t,a,p,d]}class Te extends P{constructor(e){super(),W(this,e,De,Ie,J,{})}}function x(r,e,n){const a=r.slice();return a[3]=e[n],a}function ee(r,e,n){const a=r.slice();return a[6]=e[n],a}function Ae(r){let e,n,a;return n=new Te({props:{$$slots:{default:[He]},$$scope:{ctx:r}}}),{c(){e=y("a"),oe(n.$$.fragment),this.h()},l(t){e=b(t,"A",{href:!0,class:!0});var o=A(e);re(n.$$.fragment,o),o.forEach(m),this.h()},h(){u(e,"href",`/projects/${r[3].slug}`),u(e,"class","block")},m(t,o){S(t,e,o),ie(n,e,null),a=!0},p(t,o){const l={};o&512&&(l.$$scope={dirty:o,ctx:t}),n.$set(l)},i(t){a||(j(n.$$.fragment,t),a=!0)},o(t){z(n.$$.fragment,t),a=!1},d(t){t&&m(e),ae(n)}}}function Ve(r){let e,n,a=L(r[3].media),t=[];for(let l=0;l<a.length;l+=1)t[l]=te(ee(r,a,l));const o=l=>z(t[l],1,1,()=>{t[l]=null});return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=F()},l(l){for(let i=0;i<t.length;i+=1)t[i].l(l);e=F()},m(l,i){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,i);S(l,e,i),n=!0},p(l,i){if(i&1){a=L(l[3].media);let s;for(s=0;s<a.length;s+=1){const f=ee(l,a,s);t[s]?(t[s].p(f,i),j(t[s],1)):(t[s]=te(f),t[s].c(),j(t[s],1),t[s].m(e.parentNode,e))}for(ce(),s=a.length;s<t.length;s+=1)o(s);se()}},i(l){if(!n){for(let i=0;i<a.length;i+=1)j(t[i]);n=!0}},o(l){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)z(t[i]);n=!1},d(l){l&&m(e),ye(t,l)}}}function te(r){let e,n;return e=new Ce({props:{src:r[6],alt:"",fallbackColor:"#f3f3f3",wrapperClass:"h-[350px] flex-shrink-0 rounded",imgClass:"h-full w-full object-cover"}}),{c(){oe(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,t){ie(e,a,t),n=!0},p:O,i(a){n||(j(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){ae(e,a)}}}function He(r){var I;let e,n,a,t,o=r[1](r[3].date)+"",l,i,s,f,M=r[3].title+"",C,p,d,g,_=(r[3].summaryHtml||"")+"",E,V,h,c=((I=r[3].media)==null?void 0:I.length)>0&&Ve(r);return{c(){e=y("div"),n=y("div"),a=y("div"),t=y("time"),l=Y(o),i=q(),s=y("div"),f=y("div"),C=Y(M),p=q(),d=y("div"),g=new be(!1),E=q(),c&&c.c(),V=F(),this.h()},l(w){e=b(w,"DIV",{class:!0});var D=A(e);n=b(D,"DIV",{class:!0});var v=A(n);a=b(v,"DIV",{class:!0});var T=A(a);t=b(T,"TIME",{class:!0});var H=A(t);l=X(H,o),H.forEach(m),i=R(T),s=b(T,"DIV",{class:!0});var N=A(s);f=b(N,"DIV",{class:!0});var K=A(f);C=X(K,M),K.forEach(m),N.forEach(m),T.forEach(m),p=R(v),d=b(v,"DIV",{class:!0});var Q=A(d);g=ve(Q,!1),Q.forEach(m),v.forEach(m),D.forEach(m),E=R(w),c&&c.l(w),V=F(),this.h()},h(){u(t,"class","text-gray-500 text-sm [font-variant-numeric:tabular-nums]"),u(f,"class","text-2xl leading-[1.2] break-words"),u(s,"class","text-black overflow-hidden"),u(a,"class","grid grid-cols-[auto,1fr] text-left"),g.a=null,u(d,"class","content text-[0.9rem] leading-[1.2rem] text-wrap"),pe(d,"opacity-0",!r[3].summaryHtml),u(n,"class","space-y-3"),u(e,"class","flex-shrink-0 max-w-[300px] h-auto text-sm md:max-w-[350px] md:text-base")},m(w,D){S(w,e,D),k(e,n),k(n,a),k(a,t),k(t,l),k(a,i),k(a,s),k(s,f),k(f,C),k(n,p),k(n,d),g.m(_,d),S(w,E,D),c&&c.m(w,D),S(w,V,D),h=!0},p(w,D){var v;((v=w[3].media)==null?void 0:v.length)>0&&c.p(w,D)},i(w){h||(j(c),h=!0)},o(w){z(c),h=!1},d(w){w&&(m(e),m(E),m(V)),c&&c.d(w)}}}function ne(r,e){var l;let n,a,t,o=(((l=e[3].media)==null?void 0:l.length)>0||e[3].summaryHtml)&&Ae(e);return{key:r,first:null,c(){n=y("div"),o&&o.c(),a=q(),this.h()},l(i){n=b(i,"DIV",{class:!0});var s=A(n);o&&o.l(s),a=R(s),s.forEach(m),this.h()},h(){u(n,"class","border-b border-gray-200 mb-2"),this.first=n},m(i,s){S(i,n,s),o&&o.m(n,null),k(n,a),t=!0},p(i,s){var f;e=i,(((f=e[3].media)==null?void 0:f.length)>0||e[3].summaryHtml)&&o.p(e,s)},i(i){t||(j(o),t=!0)},o(i){z(o),t=!1},d(i){i&&m(n),o&&o.d()}}}function Se(r){let e,n,a,t,o,l,i,s,f,M,C,p,d=[],g=new Map,_,E=L(r[0]);const V=h=>h[3].slug;for(let h=0;h<E.length;h+=1){let c=x(r,E,h),I=V(c);g.set(I,d[h]=ne(I,c))}return{c(){e=y("meta"),n=y("meta"),a=y("meta"),t=y("meta"),o=y("meta"),l=y("meta"),i=y("meta"),s=y("meta"),f=y("meta"),M=q(),C=y("main"),p=y("div");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){const c=_e("svelte-hi60me",document.head);e=b(c,"META",{name:!0,content:!0}),n=b(c,"META",{property:!0,content:!0}),a=b(c,"META",{property:!0,content:!0}),t=b(c,"META",{property:!0,content:!0}),o=b(c,"META",{property:!0,content:!0}),l=b(c,"META",{name:!0,content:!0}),i=b(c,"META",{name:!0,content:!0}),s=b(c,"META",{name:!0,content:!0}),f=b(c,"META",{name:!0,content:!0}),c.forEach(m),M=R(h),C=b(h,"MAIN",{class:!0});var I=A(C);p=b(I,"DIV",{class:!0});var w=A(p);for(let D=0;D<d.length;D+=1)d[D].l(w);w.forEach(m),I.forEach(m),this.h()},h(){document.title="krisenstab",u(e,"name","description"),u(e,"content",`Design studio active in interaction
    design, data visualisation, software development and media design`),u(n,"property","og:title"),u(n,"content","krisenstab"),u(a,"property","og:description"),u(a,"content","Design studio active in interaction design, data visualisation, software development and media design"),u(t,"property","og:image"),u(t,"content","https://krisenstab.net/og-image.png"),u(o,"property","og:url"),u(o,"content","https://krisenstab.net/"),u(l,"name","twitter:card"),u(l,"content","summary_large_image"),u(i,"name","twitter:title"),u(i,"content","krisenstab"),u(s,"name","twitter:description"),u(s,"content","Design studio active in interaction design, data visualisation, software development and media design"),u(f,"name","twitter:image"),u(f,"content","https://krisenstab.net/og-image.png"),u(p,"class","p-container space-y-2"),u(C,"class","mx-auto max-w-screen-3xl mt-2 px-3 text-black text-balance")},m(h,c){k(document.head,e),k(document.head,n),k(document.head,a),k(document.head,t),k(document.head,o),k(document.head,l),k(document.head,i),k(document.head,s),k(document.head,f),S(h,M,c),S(h,C,c),k(C,p);for(let I=0;I<d.length;I+=1)d[I]&&d[I].m(p,null);_=!0},p(h,[c]){c&3&&(E=L(h[0]),ce(),d=ke(d,c,V,1,h,E,g,p,we,ne,null,x),se())},i(h){if(!_){for(let c=0;c<E.length;c+=1)j(d[c]);_=!0}},o(h){for(let c=0;c<d.length;c+=1)z(d[c]);_=!1},d(h){h&&(m(M),m(C)),m(e),m(n),m(a),m(t),m(o),m(l),m(i),m(s),m(f);for(let c=0;c<d.length;c+=1)d[c].d()}}}function je(r,e,n){let{data:a}=e;const t=a.projects||[],o=l=>{if(!l)return"â€”";if(/^\d{4}(-\d{4})?$/.test(l))return l;const i=new Date(l);return isNaN(i)?l:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(i)};return r.$$set=l=>{"data"in l&&n(2,a=l.data)},[t,o,a]}class Re extends P{constructor(e){super(),W(this,e,je,Se,J,{data:2})}}export{Re as component};
