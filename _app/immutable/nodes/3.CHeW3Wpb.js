import{P as z,v as N,u as R,S as O,i as Y,s as Z,K as ee,d as m,L as te,M as ne,N as se,b as j,c as b,Q as B,m as d,e as w,f as V,j as y,I as G,x as ae,o as le,h as S,k as C,C as oe,E as ie,F as re,D as ce,R as ue,g as P,q as de,p as W,t as J,H as fe,T as me,n as he,J as _e,w as ge}from"../chunks/CY_suq71.js";import"../chunks/IHki7fMi.js";function q(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function pe(l,e){R(l,1,1,()=>{e.delete(l.key)})}function ve(l,e,n,t,s,o,a,i,r,g,E,M){let p=l.length,f=o.length,_=p;const D={};for(;_--;)D[l[_].key]=_;const k=[],T=new Map,u=new Map,c=[];for(_=f;_--;){const v=M(s,o,_),A=n(v);let x=a.get(A);x?c.push(()=>x.p(v,e)):(x=g(A,v),x.c()),T.set(A,k[_]=x),A in D&&u.set(A,Math.abs(_-D[A]))}const h=new Set,$=new Set;function I(v){N(v,1),v.m(i,E),a.set(v.key,v),E=v.first,f--}for(;p&&f;){const v=k[f-1],A=l[p-1],x=v.key,H=A.key;v===A?(E=v.first,p--,f--):T.has(H)?!a.has(x)||h.has(x)?I(v):$.has(H)?p--:u.get(x)>u.get(H)?($.add(x),I(v)):(h.add(H),p--):(r(A,a),p--)}for(;p--;){const v=l[p];T.has(v.key)||r(v,a)}for(;f;)I(k[f-1]);return z(c),k}function we(l){let e,n,t,s,o;const a=l[6].default,i=ee(a,l,l[5],null);return{c(){e=y("div"),n=y("div"),i&&i.c(),this.h()},l(r){e=w(r,"DIV",{class:!0});var g=V(e);n=w(g,"DIV",{class:!0});var E=V(n);i&&i.l(E),E.forEach(m),g.forEach(m),this.h()},h(){d(n,"class","inner sc mt-0 mb-4 flex w-max flex-nowrap items-start justify-start gap-4 "),d(e,"class","outer w-[100%] overflow-x-auto scroll-smooth svelte-ac0a6v")},m(r,g){j(r,e,g),b(e,n),i&&i.m(n,null),l[7](n),l[8](e),t=!0,s||(o=[B(e,"mousemove",l[2]),B(e,"mouseenter",l[3]),B(e,"scroll",l[4])],s=!0)},p(r,[g]){i&&i.p&&(!t||g&32)&&te(i,a,r,r[5],t?se(a,r[5],g,null):ne(r[5]),null)},i(r){t||(N(i,r),t=!0)},o(r){R(i,r),t=!1},d(r){r&&m(e),i&&i.d(r),l[7](null),l[8](null),s=!1,z(o)}}}let K=30;function ye(l,e,n){let{$$slots:t={},$$scope:s}=e,o,a,i=!0,r=!1;function g(_){if(!i)return;const D=o.getBoundingClientRect().width,k=a.getBoundingClientRect().width;if(k<=D)return;const T=o.getBoundingClientRect(),c=(_.clientX-T.left-K)/(D-K*2),h=k-D;r=!0,o.scrollTo({left:h*c,behavior:"instant"}),requestAnimationFrame(()=>r=!1)}function E(_){i=!0}function M(_){r||(i=!1)}function p(_){G[_?"unshift":"push"](()=>{a=_,n(1,a)})}function f(_){G[_?"unshift":"push"](()=>{o=_,n(0,o)})}return l.$$set=_=>{"$$scope"in _&&n(5,s=_.$$scope)},[o,a,g,E,M,s,t,p,f]}class be extends O{constructor(e){super(),Y(this,e,ye,we,Z,{})}}function L(l,e,n){const t=l.slice();return t[3]=e[n],t}function Q(l,e,n){const t=l.slice();return t[6]=e[n],t}function ke(l){let e,n,t;return n=new be({props:{$$slots:{default:[Me]},$$scope:{ctx:l}}}),{c(){e=y("a"),ce(n.$$.fragment),this.h()},l(s){e=w(s,"A",{href:!0,class:!0});var o=V(e);re(n.$$.fragment,o),o.forEach(m),this.h()},h(){d(e,"href",`/projects/${l[3].slug}`),d(e,"class","block")},m(s,o){j(s,e,o),ie(n,e,null),t=!0},p(s,o){const a={};o&512&&(a.$$scope={dirty:o,ctx:s}),n.$set(a)},i(s){t||(N(n.$$.fragment,s),t=!0)},o(s){R(n.$$.fragment,s),t=!1},d(s){s&&m(e),oe(n)}}}function Ee(l){let e,n=q(l[3].media),t=[];for(let s=0;s<n.length;s+=1)t[s]=U(Q(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=W()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);e=W()},m(s,o){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(s,o);j(s,e,o)},p(s,o){if(o&1){n=q(s[3].media);let a;for(a=0;a<n.length;a+=1){const i=Q(s,n,a);t[a]?t[a].p(i,o):(t[a]=U(i),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=n.length}},d(s){s&&m(e),me(t,s)}}}function U(l){let e,n;return{c(){e=y("img"),this.h()},l(t){e=w(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){_e(e.src,n=l[6])||d(e,"src",n),d(e,"alt",""),d(e,"class","h-[350px] flex-shrink-0 rounded object-cover")},m(t,s){j(t,e,s)},p:he,d(t){t&&m(e)}}}function Me(l){var c;let e,n,t,s,o=l[1](l[3].date)+"",a,i,r,g,E=l[3].title+"",M,p,f,_,D=(l[3].summaryHtml||"")+"",k,T,u=((c=l[3].media)==null?void 0:c.length)>0&&Ee(l);return{c(){e=y("div"),n=y("div"),t=y("div"),s=y("time"),a=J(o),i=C(),r=y("div"),g=y("div"),M=J(E),p=C(),f=y("div"),_=new fe(!1),k=C(),u&&u.c(),T=W(),this.h()},l(h){e=w(h,"DIV",{class:!0});var $=V(e);n=w($,"DIV",{class:!0});var I=V(n);t=w(I,"DIV",{class:!0});var v=V(t);s=w(v,"TIME",{class:!0});var A=V(s);a=P(A,o),A.forEach(m),i=S(v),r=w(v,"DIV",{class:!0});var x=V(r);g=w(x,"DIV",{class:!0});var H=V(g);M=P(H,E),H.forEach(m),x.forEach(m),v.forEach(m),p=S(I),f=w(I,"DIV",{class:!0});var F=V(f);_=de(F,!1),F.forEach(m),I.forEach(m),$.forEach(m),k=S(h),u&&u.l(h),T=W(),this.h()},h(){d(s,"class","text-gray-500 text-sm [font-variant-numeric:tabular-nums]"),d(g,"class","text-base leading-[1.1] break-words"),d(r,"class","text-black overflow-hidden"),d(t,"class","grid grid-cols-[auto,1fr] text-left"),_.a=null,d(f,"class","content text-base leading-[1.2] text-wrap"),ue(f,"opacity-0",!l[3].summaryHtml),d(n,"class","space-y-3 h-[350px] px-2"),d(e,"class","md:sticky left-0 flex-shrink-0 max-w-[280px] h-full text-base bg-white shadow-[0_0_10px_3px_white]")},m(h,$){j(h,e,$),b(e,n),b(n,t),b(t,s),b(s,a),b(t,i),b(t,r),b(r,g),b(g,M),b(n,p),b(n,f),_.m(D,f),j(h,k,$),u&&u.m(h,$),j(h,T,$)},p(h,$){var I;((I=h[3].media)==null?void 0:I.length)>0&&u.p(h,$)},d(h){h&&(m(e),m(k),m(T)),u&&u.d(h)}}}function X(l,e){var a;let n,t,s,o=(((a=e[3].media)==null?void 0:a.length)>0||e[3].summaryHtml)&&ke(e);return{key:l,first:null,c(){n=y("div"),o&&o.c(),t=C(),this.h()},l(i){n=w(i,"DIV",{class:!0});var r=V(n);o&&o.l(r),t=S(r),r.forEach(m),this.h()},h(){d(n,"class","border-b border-gray-200 mb-2"),this.first=n},m(i,r){j(i,n,r),o&&o.m(n,null),b(n,t),s=!0},p(i,r){var g;e=i,(((g=e[3].media)==null?void 0:g.length)>0||e[3].summaryHtml)&&o.p(e,r)},i(i){s||(N(o),s=!0)},o(i){R(o),s=!1},d(i){i&&m(n),o&&o.d()}}}function $e(l){let e,n,t,s,o,a,i,r,g,E,M,p,f=[],_=new Map,D,k=q(l[0]);const T=u=>u[3].slug;for(let u=0;u<k.length;u+=1){let c=L(l,k,u),h=T(c);_.set(h,f[u]=X(h,c))}return{c(){e=y("meta"),n=y("meta"),t=y("meta"),s=y("meta"),o=y("meta"),a=y("meta"),i=y("meta"),r=y("meta"),g=y("meta"),E=C(),M=y("main"),p=y("div");for(let u=0;u<f.length;u+=1)f[u].c();this.h()},l(u){const c=le("svelte-vnawb8",document.head);e=w(c,"META",{name:!0,content:!0}),n=w(c,"META",{property:!0,content:!0}),t=w(c,"META",{property:!0,content:!0}),s=w(c,"META",{property:!0,content:!0}),o=w(c,"META",{property:!0,content:!0}),a=w(c,"META",{name:!0,content:!0}),i=w(c,"META",{name:!0,content:!0}),r=w(c,"META",{name:!0,content:!0}),g=w(c,"META",{name:!0,content:!0}),c.forEach(m),E=S(u),M=w(u,"MAIN",{class:!0});var h=V(M);p=w(h,"DIV",{class:!0});var $=V(p);for(let I=0;I<f.length;I+=1)f[I].l($);$.forEach(m),h.forEach(m),this.h()},h(){document.title="krisenstab",d(e,"name","description"),d(e,"content","We are a design studio working at the intersection of technology, journalism and culture."),d(n,"property","og:title"),d(n,"content","krisenstab"),d(t,"property","og:description"),d(t,"content","We are a design studio working at the intersection of technology, journalism and culture."),d(s,"property","og:image"),d(s,"content","https://krisenstab.net/og-image.png"),d(o,"property","og:url"),d(o,"content","https://krisenstab.net/"),d(a,"name","twitter:card"),d(a,"content","summary_large_image"),d(i,"name","twitter:title"),d(i,"content","krisenstab"),d(r,"name","twitter:description"),d(r,"content","We are a design studio working at the intersection of technology, journalism and culture."),d(g,"name","twitter:image"),d(g,"content","https://krisenstab.net/og-image.png"),d(p,"class","p-container space-y-2"),d(M,"class","mx-auto max-w-screen-3xl mt-2 px-2 text-black text-balance")},m(u,c){b(document.head,e),b(document.head,n),b(document.head,t),b(document.head,s),b(document.head,o),b(document.head,a),b(document.head,i),b(document.head,r),b(document.head,g),j(u,E,c),j(u,M,c),b(M,p);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(p,null);D=!0},p(u,[c]){c&3&&(k=q(u[0]),ge(),f=ve(f,c,T,1,u,k,_,p,pe,X,null,L),ae())},i(u){if(!D){for(let c=0;c<k.length;c+=1)N(f[c]);D=!0}},o(u){for(let c=0;c<f.length;c+=1)R(f[c]);D=!1},d(u){u&&(m(E),m(M)),m(e),m(n),m(t),m(s),m(o),m(a),m(i),m(r),m(g);for(let c=0;c<f.length;c+=1)f[c].d()}}}function Ie(l,e,n){let{data:t}=e;const s=t.projects||[],o=a=>{if(!a)return"â€”";if(/^\d{4}(-\d{4})?$/.test(a))return a;const i=new Date(a);return isNaN(i)?a:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(i)};return l.$$set=a=>{"data"in a&&n(2,t=a.data)},[s,o,t]}class Ae extends O{constructor(e){super(),Y(this,e,Ie,$e,Z,{data:2})}}export{Ae as component};
