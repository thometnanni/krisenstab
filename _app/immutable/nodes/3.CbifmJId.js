import{_ as U,a as Q,b as R,c as W}from"../chunks/1xduTUEX.js";import{I as X,u as Y,S as Z,i as tt,s as et,n as L,d as v,b as T,c as w,o as m,e as D,f as S,j as E,g as z,h as $,p as st,t as B,k as O,H as nt,J as at,K as it}from"../chunks/D0BTlVWg.js";import"../chunks/IHki7fMi.js";function x(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function lt(i,e){i.d(1),e.delete(i.key)}function rt(i,e,n,t,s,c,a,r,o,l,u,g){let f=i.length,p=c.length,h=f;const j={};for(;h--;)j[i[h].key]=h;const M=[],V=new Map,A=new Map,I=[];for(h=p;h--;){const d=g(s,c,h),y=n(d);let b=a.get(y);b?I.push(()=>b.p(d,e)):(b=l(y,d),b.c()),V.set(y,M[h]=b),y in j&&A.set(y,Math.abs(h-j[y]))}const C=new Set,k=new Set;function _(d){Y(d,1),d.m(r,u),a.set(d.key,d),u=d.first,p--}for(;f&&p;){const d=M[p-1],y=i[f-1],b=d.key,H=y.key;d===y?(u=d.first,f--,p--):V.has(H)?!a.has(b)||C.has(b)?_(d):k.has(H)?f--:A.get(b)>A.get(H)?(k.add(b),_(d)):(C.add(H),f--):(o(y,a),f--)}for(;f--;){const d=i[f];V.has(d.key)||o(d,a)}for(;p;)_(M[p-1]);return X(I),M}const ct=!0,ot=!1,dt=i=>String(i||"").trim().toLowerCase().replace(/[–—−]/g,"-"),P=i=>{const e=dt(i).match(/^(\d{4})(?:\s*-\s*(\d{4}|ongoing))?$/i);if(!e)return{start:-1/0,end:-1/0,ongoing:!1};const n=+e[1],t=!!(e[2]&&String(e[2]).includes("ongoing")),s=/^\d{4}$/.test(e[2])?+e[2]:t?1/0:n;return{start:n,end:s,ongoing:t}},ut=i=>{const e=i.toLowerCase().indexOf("<hr"),n=e>=0?i.slice(0,e):i,t=[...n.matchAll(/<img[^>]*src=["']([^"']+)["'][^>]*>/gi)].map(c=>c[1]);return{summaryHtml:n.replace(/<img[^>]*>/gi,""),media:t}};async function ft(){return{projects:Object.entries(Object.assign({"/src/routes/texts/cua.md":W,"/src/routes/texts/design-signals.md":R,"/src/routes/texts/unfolding-the-archive.md":Q,"/src/routes/texts/vantage.md":U})).map(([t,s])=>{var l,u,g;const c=typeof((l=s==null?void 0:s.default)==null?void 0:l.render)=="function"?s.default.render():{html:""},{summaryHtml:a,media:r}=ut(c.html||"");return{slug:t.split("/texts/")[1].replace(".md",""),title:((u=s==null?void 0:s.metadata)==null?void 0:u.title)||"",date:((g=s==null?void 0:s.metadata)==null?void 0:g.date)||"",summaryHtml:a,media:r}}).sort((t,s)=>{const c=P(t.date),a=P(s.date);return a.start!==c.start?a.start-c.start:c.ongoing!==a.ongoing?c.ongoing?-1:1:(a.end||0)-(c.end||0)||(t.title||"").localeCompare(s.title||"","en",{sensitivity:"base"})})}}const yt=Object.freeze(Object.defineProperty({__proto__:null,csr:ot,load:ft,prerender:ct},Symbol.toStringTag,{value:"Module"}));function F(i,e,n){const t=i.slice();return t[6]=e[n],t}function G(i,e,n){const t=i.slice();return t[9]=e[n],t}function ht(i){let e,n=x(i[6].media),t=[];for(let s=0;s<n.length;s+=1)t[s]=J(G(i,n,s));return{c(){e=E("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=D(s,"DIV",{class:!0});var c=S(e);for(let a=0;a<t.length;a+=1)t[a].l(c);c.forEach(v),this.h()},h(){m(e,"class","media svelte-tbtu95")},m(s,c){T(s,e,c);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,c){if(c&1){n=x(s[6].media);let a;for(a=0;a<n.length;a+=1){const r=G(s,n,a);t[a]?t[a].p(r,c):(t[a]=J(r),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=n.length}},d(s){s&&v(e),at(t,s)}}}function J(i){let e,n;return{c(){e=E("img"),this.h()},l(t){e=D(t,"IMG",{src:!0,alt:!0,loading:!0,decoding:!0,fetchpriority:!0,class:!0}),this.h()},h(){it(e.src,n=i[9])||m(e,"src",n),m(e,"alt",""),m(e,"loading","lazy"),m(e,"decoding","async"),m(e,"fetchpriority","low"),m(e,"class","svelte-tbtu95")},m(t,s){T(t,e,s)},p:L,d(t){t&&v(e)}}}function K(i,e){var C;let n,t,s,c=e[1](e[6].date)+"",a,r,o,l,u=e[6].title+"",g,f,p,h,j,M,V=e[6].summaryHtml+"",A,I=((C=e[6].media)==null?void 0:C.length)>0&&ht(e);return{key:i,first:null,c(){n=E("div"),t=E("div"),s=E("time"),a=B(c),r=O(),o=E("div"),l=E("a"),g=B(u),f=O(),I&&I.c(),p=O(),h=E("div"),j=E("div"),M=new nt(!1),A=O(),this.h()},l(k){n=D(k,"DIV",{class:!0});var _=S(n);t=D(_,"DIV",{class:!0});var d=S(t);s=D(d,"TIME",{class:!0});var y=S(s);a=z(y,c),y.forEach(v),r=$(d),o=D(d,"DIV",{class:!0});var b=S(o);l=D(b,"A",{href:!0});var H=S(l);g=z(H,u),H.forEach(v),b.forEach(v),d.forEach(v),f=$(_),I&&I.l(_),p=$(_),h=D(_,"DIV",{class:!0});var N=S(h);j=D(N,"DIV",{class:!0});var q=S(j);M=st(q,!1),q.forEach(v),N.forEach(v),A=$(_),_.forEach(v),this.h()},h(){m(s,"class","col time svelte-tbtu95"),m(l,"href",`/projects/${e[6].slug}`),m(o,"class","col project svelte-tbtu95"),m(t,"class","row svelte-tbtu95"),M.a=null,m(j,"class","content"),m(h,"class","info svelte-tbtu95"),m(n,"class","svelte-tbtu95"),this.first=n},m(k,_){T(k,n,_),w(n,t),w(t,s),w(s,a),w(t,r),w(t,o),w(o,l),w(l,g),w(n,f),I&&I.m(n,null),w(n,p),w(n,h),w(h,j),M.m(V,j),w(n,A)},p(k,_){var d;e=k,((d=e[6].media)==null?void 0:d.length)>0&&I.p(e,_)},d(k){k&&v(n),I&&I.d()}}}function gt(i){let e,n,t=[],s=new Map,c=x(i[0]);const a=r=>r[6].slug;for(let r=0;r<c.length;r+=1){let o=F(i,c,r),l=a(o);s.set(l,t[r]=K(l,o))}return{c(){e=E("main"),n=E("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=D(r,"MAIN",{class:!0});var o=S(e);n=D(o,"DIV",{class:!0});var l=S(n);for(let u=0;u<t.length;u+=1)t[u].l(l);l.forEach(v),o.forEach(v),this.h()},h(){m(n,"class","rows svelte-tbtu95"),m(e,"class","archive svelte-tbtu95")},m(r,o){T(r,e,o),w(e,n);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(n,null)},p(r,[o]){o&3&&(c=x(r[0]),t=rt(t,o,a,1,r,c,s,n,lt,K,null,F))},i:L,o:L,d(r){r&&v(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function mt(i,e,n){let{data:t}=e;const s=t.projects||[],c=l=>String(l||"").trim().toLowerCase().replace(/[–—−]/g,"-");function a(l=""){var h;const u=c(l).match(/^(\d{4})(?:\s*-\s*(\d{4}|ongoing))?$/i);if(!u)return{start:-1/0,end:-1/0,ongoing:!1};const g=+u[1],f=((h=u[2])==null?void 0:h.includes("ongoing"))||!1,p=/^\d{4}$/.test(u[2])?+u[2]:f?1/0:g;return{start:g,end:p,ongoing:f}}const r=[...s].sort((l,u)=>{const g=a(l.date),f=a(u.date);return f.start!==g.start?f.start-g.start:g.ongoing!==f.ongoing?g.ongoing?-1:1:(f.end||0)-(g.end||0)||(l.title||"").localeCompare(u.title||"","en",{sensitivity:"base"})}),o=l=>{if(!l)return"—";if(/^\d{4}(-\d{4})?$/.test(l))return l;const u=new Date(l);return isNaN(u)?l:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(u)};return i.$$set=l=>{"data"in l&&n(2,t=l.data)},[r,o,t]}class bt extends Z{constructor(e){super(),tt(this,e,mt,gt,et,{data:2})}}export{bt as component,yt as universal};
