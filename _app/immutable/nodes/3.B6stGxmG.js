import{P as le,v as S,u as z,S as G,i as P,s as J,n as L,d as m,m as u,b as H,e as y,f as A,j as b,z as ue,O as fe,J as U,Q as q,I as O,K as de,L as me,M as he,N as ge,c as k,x as se,o as _e,h as R,k as W,C as ae,E as re,F as ie,D as oe,R as pe,g as X,q as ve,p as B,t as Y,H as ye,T as be,w as ce}from"../chunks/CY_suq71.js";import"../chunks/IHki7fMi.js";function F(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function we(i,e){z(i,1,1,()=>{e.delete(i.key)})}function ke(i,e,n,a,t,o,l,r,s,f,M,C){let p=i.length,d=o.length,g=p;const _={};for(;g--;)_[i[g].key]=g;const E=[],V=new Map,h=new Map,c=[];for(g=d;g--;){const v=C(t,o,g),T=n(v);let j=l.get(T);j?c.push(()=>j.p(v,e)):(j=f(T,v),j.c()),V.set(T,E[g]=j),T in _&&h.set(T,Math.abs(g-_[T]))}const I=new Set,w=new Set;function D(v){S(v,1),v.m(r,M),l.set(v.key,v),M=v.first,d--}for(;p&&d;){const v=E[d-1],T=i[p-1],j=v.key,N=T.key;v===T?(M=v.first,p--,d--):V.has(N)?!l.has(j)||I.has(j)?D(v):w.has(N)?p--:h.get(j)>h.get(N)?(w.add(j),D(v)):(I.add(N),p--):(s(T,l),p--)}for(;p--;){const v=i[p];V.has(v.key)||s(v,l)}for(;d;)D(E[d-1]);return le(c),E}function Z(i){let e,n,a,t,o,l;return{c(){e=b("img"),this.h()},l(r){e=y(r,"IMG",{src:!0,alt:!0,loading:!0,decoding:!0,fetchpriority:!0,class:!0,style:!0}),this.h()},h(){U(e.src,n=i[0])||u(e,"src",n),u(e,"alt",i[1]),u(e,"loading","lazy"),u(e,"decoding","async"),u(e,"fetchpriority","low"),u(e,"class",a=`transition-opacity duration-300 ${i[4]}`.trim()),u(e,"style",t=`opacity: ${i[7]?1:0};`)},m(r,s){H(r,e,s),o||(l=q(e,"load",i[8]),o=!0)},p(r,s){s&1&&!U(e.src,n=r[0])&&u(e,"src",n),s&2&&u(e,"alt",r[1]),s&16&&a!==(a=`transition-opacity duration-300 ${r[4]}`.trim())&&u(e,"class",a),s&128&&t!==(t=`opacity: ${r[7]?1:0};`)&&u(e,"style",t)},d(r){r&&m(e),o=!1,l()}}}function Ee(i){let e,n,a,t=i[6]&&Z(i);return{c(){e=b("div"),t&&t.c(),this.h()},l(o){e=y(o,"DIV",{class:!0,style:!0});var l=A(e);t&&t.l(l),l.forEach(m),this.h()},h(){u(e,"class",n=`relative overflow-hidden ${i[3]}`.trim()),u(e,"style",a=`background-color: ${i[2]};`)},m(o,l){H(o,e,l),t&&t.m(e,null),i[9](e)},p(o,[l]){o[6]?t?t.p(o,l):(t=Z(o),t.c(),t.m(e,null)):t&&(t.d(1),t=null),l&8&&n!==(n=`relative overflow-hidden ${o[3]}`.trim())&&u(e,"class",n),l&4&&a!==(a=`background-color: ${o[2]};`)&&u(e,"style",a)},i:L,o:L,d(o){o&&m(e),t&&t.d(),i[9](null)}}}function Me(i,e,n){let{src:a=""}=e,{alt:t=""}=e,{fallbackColor:o="#f3f3f3"}=e,{wrapperClass:l=""}=e,{imgClass:r=""}=e,s,f,M=!1,C=!1;const p=()=>{n(6,M=!0),f&&(f.disconnect(),f=void 0)};ue(()=>{if(typeof IntersectionObserver>"u"||!s){p();return}f=new IntersectionObserver(_=>{for(const E of _)if(E.isIntersecting){p();break}},{rootMargin:"200px"}),f.observe(s)}),fe(()=>{f&&f.disconnect()});const d=()=>{n(7,C=!0)};function g(_){O[_?"unshift":"push"](()=>{s=_,n(5,s)})}return i.$$set=_=>{"src"in _&&n(0,a=_.src),"alt"in _&&n(1,t=_.alt),"fallbackColor"in _&&n(2,o=_.fallbackColor),"wrapperClass"in _&&n(3,l=_.wrapperClass),"imgClass"in _&&n(4,r=_.imgClass)},[a,t,o,l,r,s,M,C,d,g]}class Ce extends G{constructor(e){super(),P(this,e,Me,Ee,J,{src:0,alt:1,fallbackColor:2,wrapperClass:3,imgClass:4})}}function Ie(i){let e,n,a,t,o;const l=i[6].default,r=de(l,i,i[5],null);return{c(){e=b("div"),n=b("div"),r&&r.c(),this.h()},l(s){e=y(s,"DIV",{class:!0});var f=A(e);n=y(f,"DIV",{class:!0});var M=A(n);r&&r.l(M),M.forEach(m),f.forEach(m),this.h()},h(){u(n,"class","inner sc mt-0 mb-0 flex w-max flex-nowrap items-start justify-start gap-4 "),u(e,"class","outer w-[100%] overflow-x-auto scroll-smooth svelte-zdb62c")},m(s,f){H(s,e,f),k(e,n),r&&r.m(n,null),i[7](n),i[8](e),a=!0,t||(o=[q(e,"mousemove",i[2]),q(e,"mouseenter",i[3]),q(e,"scroll",i[4])],t=!0)},p(s,[f]){r&&r.p&&(!a||f&32)&&me(r,l,s,s[5],a?ge(l,s[5],f,null):he(s[5]),null)},i(s){a||(S(r,s),a=!0)},o(s){z(r,s),a=!1},d(s){s&&m(e),r&&r.d(s),i[7](null),i[8](null),t=!1,le(o)}}}let $=100;function De(i,e,n){let{$$slots:a={},$$scope:t}=e,o,l,r=!0,s=!1;function f(g){if(!r)return;const _=o.getBoundingClientRect().width,E=l.getBoundingClientRect().width;if(E<=_)return;const V=o.getBoundingClientRect(),c=(g.clientX-V.left-$)/(_-$*2),I=E-_;s=!0,o.scrollTo({left:I*c,behavior:"instant"}),requestAnimationFrame(()=>s=!1)}function M(g){r=!0}function C(g){s||(r=!1)}function p(g){O[g?"unshift":"push"](()=>{l=g,n(1,l)})}function d(g){O[g?"unshift":"push"](()=>{o=g,n(0,o)})}return i.$$set=g=>{"$$scope"in g&&n(5,t=g.$$scope)},[o,l,f,M,C,t,a,p,d]}class Te extends G{constructor(e){super(),P(this,e,De,Ie,J,{})}}function x(i,e,n){const a=i.slice();return a[3]=e[n],a}function ee(i,e,n){const a=i.slice();return a[6]=e[n],a}function Ae(i){let e,n,a;return n=new Te({props:{$$slots:{default:[je]},$$scope:{ctx:i}}}),{c(){e=b("a"),oe(n.$$.fragment),this.h()},l(t){e=y(t,"A",{href:!0,class:!0});var o=A(e);ie(n.$$.fragment,o),o.forEach(m),this.h()},h(){u(e,"href",`/projects/${i[3].slug}`),u(e,"class","block")},m(t,o){H(t,e,o),re(n,e,null),a=!0},p(t,o){const l={};o&512&&(l.$$scope={dirty:o,ctx:t}),n.$set(l)},i(t){a||(S(n.$$.fragment,t),a=!0)},o(t){z(n.$$.fragment,t),a=!1},d(t){t&&m(e),ae(n)}}}function Ve(i){let e,n,a=F(i[3].media),t=[];for(let l=0;l<a.length;l+=1)t[l]=te(ee(i,a,l));const o=l=>z(t[l],1,1,()=>{t[l]=null});return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=B()},l(l){for(let r=0;r<t.length;r+=1)t[r].l(l);e=B()},m(l,r){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,r);H(l,e,r),n=!0},p(l,r){if(r&1){a=F(l[3].media);let s;for(s=0;s<a.length;s+=1){const f=ee(l,a,s);t[s]?(t[s].p(f,r),S(t[s],1)):(t[s]=te(f),t[s].c(),S(t[s],1),t[s].m(e.parentNode,e))}for(ce(),s=a.length;s<t.length;s+=1)o(s);se()}},i(l){if(!n){for(let r=0;r<a.length;r+=1)S(t[r]);n=!0}},o(l){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)z(t[r]);n=!1},d(l){l&&m(e),be(t,l)}}}function te(i){let e,n;return e=new Ce({props:{src:i[6],alt:"",fallbackColor:"#f3f3f3",wrapperClass:"h-[340px] flex-shrink-0 rounded",imgClass:"h-full w-full object-cover"}}),{c(){oe(e.$$.fragment)},l(a){ie(e.$$.fragment,a)},m(a,t){re(e,a,t),n=!0},p:L,i(a){n||(S(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){ae(e,a)}}}function je(i){var I;let e,n,a,t,o=i[1](i[3].date)+"",l,r,s,f,M=i[3].title+"",C,p,d,g,_=(i[3].summaryHtml||"")+"",E,V,h,c=((I=i[3].media)==null?void 0:I.length)>0&&Ve(i);return{c(){e=b("div"),n=b("div"),a=b("div"),t=b("time"),l=Y(o),r=W(),s=b("div"),f=b("div"),C=Y(M),p=W(),d=b("div"),g=new ye(!1),E=W(),c&&c.c(),V=B(),this.h()},l(w){e=y(w,"DIV",{class:!0});var D=A(e);n=y(D,"DIV",{class:!0});var v=A(n);a=y(v,"DIV",{class:!0});var T=A(a);t=y(T,"TIME",{class:!0});var j=A(t);l=X(j,o),j.forEach(m),r=R(T),s=y(T,"DIV",{class:!0});var N=A(s);f=y(N,"DIV",{class:!0});var K=A(f);C=X(K,M),K.forEach(m),N.forEach(m),T.forEach(m),p=R(v),d=y(v,"DIV",{class:!0});var Q=A(d);g=ve(Q,!1),Q.forEach(m),v.forEach(m),D.forEach(m),E=R(w),c&&c.l(w),V=B(),this.h()},h(){u(t,"class","text-gray-500 text-sm [font-variant-numeric:tabular-nums]"),u(f,"class","text-2xl leading-[1.2] break-words"),u(s,"class","text-black overflow-hidden"),u(a,"class","grid grid-cols-[auto,1fr] text-left"),g.a=null,u(d,"class","content text-[0.9rem] leading-[1.2rem] text-wrap"),pe(d,"opacity-0",!i[3].summaryHtml),u(n,"class","space-y-3"),u(e,"class","flex-shrink-0 max-w-[300px] h-auto text-sm md:max-w-[350px] md:text-base")},m(w,D){H(w,e,D),k(e,n),k(n,a),k(a,t),k(t,l),k(a,r),k(a,s),k(s,f),k(f,C),k(n,p),k(n,d),g.m(_,d),H(w,E,D),c&&c.m(w,D),H(w,V,D),h=!0},p(w,D){var v;((v=w[3].media)==null?void 0:v.length)>0&&c.p(w,D)},i(w){h||(S(c),h=!0)},o(w){z(c),h=!1},d(w){w&&(m(e),m(E),m(V)),c&&c.d(w)}}}function ne(i,e){var l;let n,a,t,o=(((l=e[3].media)==null?void 0:l.length)>0||e[3].summaryHtml)&&Ae(e);return{key:i,first:null,c(){n=b("div"),o&&o.c(),a=W(),this.h()},l(r){n=y(r,"DIV",{class:!0});var s=A(n);o&&o.l(s),a=R(s),s.forEach(m),this.h()},h(){u(n,"class","border-b border-gray-200 mb-2"),this.first=n},m(r,s){H(r,n,s),o&&o.m(n,null),k(n,a),t=!0},p(r,s){var f;e=r,(((f=e[3].media)==null?void 0:f.length)>0||e[3].summaryHtml)&&o.p(e,s)},i(r){t||(S(o),t=!0)},o(r){z(o),t=!1},d(r){r&&m(n),o&&o.d()}}}function He(i){let e,n,a,t,o,l,r,s,f,M,C,p,d=[],g=new Map,_,E=F(i[0]);const V=h=>h[3].slug;for(let h=0;h<E.length;h+=1){let c=x(i,E,h),I=V(c);g.set(I,d[h]=ne(I,c))}return{c(){e=b("meta"),n=b("meta"),a=b("meta"),t=b("meta"),o=b("meta"),l=b("meta"),r=b("meta"),s=b("meta"),f=b("meta"),M=W(),C=b("main"),p=b("div");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){const c=_e("svelte-vnawb8",document.head);e=y(c,"META",{name:!0,content:!0}),n=y(c,"META",{property:!0,content:!0}),a=y(c,"META",{property:!0,content:!0}),t=y(c,"META",{property:!0,content:!0}),o=y(c,"META",{property:!0,content:!0}),l=y(c,"META",{name:!0,content:!0}),r=y(c,"META",{name:!0,content:!0}),s=y(c,"META",{name:!0,content:!0}),f=y(c,"META",{name:!0,content:!0}),c.forEach(m),M=R(h),C=y(h,"MAIN",{class:!0});var I=A(C);p=y(I,"DIV",{class:!0});var w=A(p);for(let D=0;D<d.length;D+=1)d[D].l(w);w.forEach(m),I.forEach(m),this.h()},h(){document.title="krisenstab",u(e,"name","description"),u(e,"content","We are a design studio working at the intersection of technology, journalism and culture."),u(n,"property","og:title"),u(n,"content","krisenstab"),u(a,"property","og:description"),u(a,"content","We are a design studio working at the intersection of technology, journalism and culture."),u(t,"property","og:image"),u(t,"content","https://krisenstab.net/og-image.png"),u(o,"property","og:url"),u(o,"content","https://krisenstab.net/"),u(l,"name","twitter:card"),u(l,"content","summary_large_image"),u(r,"name","twitter:title"),u(r,"content","krisenstab"),u(s,"name","twitter:description"),u(s,"content","We are a design studio working at the intersection of technology, journalism and culture."),u(f,"name","twitter:image"),u(f,"content","https://krisenstab.net/og-image.png"),u(p,"class","p-container space-y-2"),u(C,"class","mx-auto max-w-screen-3xl mt-2 px-3 text-black text-balance")},m(h,c){k(document.head,e),k(document.head,n),k(document.head,a),k(document.head,t),k(document.head,o),k(document.head,l),k(document.head,r),k(document.head,s),k(document.head,f),H(h,M,c),H(h,C,c),k(C,p);for(let I=0;I<d.length;I+=1)d[I]&&d[I].m(p,null);_=!0},p(h,[c]){c&3&&(E=F(h[0]),ce(),d=ke(d,c,V,1,h,E,g,p,we,ne,null,x),se())},i(h){if(!_){for(let c=0;c<E.length;c+=1)S(d[c]);_=!0}},o(h){for(let c=0;c<d.length;c+=1)z(d[c]);_=!1},d(h){h&&(m(M),m(C)),m(e),m(n),m(a),m(t),m(o),m(l),m(r),m(s),m(f);for(let c=0;c<d.length;c+=1)d[c].d()}}}function Se(i,e,n){let{data:a}=e;const t=a.projects||[],o=l=>{if(!l)return"â€”";if(/^\d{4}(-\d{4})?$/.test(l))return l;const r=new Date(l);return isNaN(r)?l:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(r)};return i.$$set=l=>{"data"in l&&n(2,a=l.data)},[t,o,a]}class Re extends G{constructor(e){super(),P(this,e,Se,He,J,{data:2})}}export{Re as component};
