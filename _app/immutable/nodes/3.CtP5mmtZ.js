import{r as L,u as O,S as Q,i as R,s as W,n as z,d as m,b as $,c as p,o as h,e as b,f as D,j as k,g as G,h as N,p as X,t as P,k as T,H as Y,v as Z,w as ee}from"../chunks/ow-jtZF-.js";import"../chunks/IHki7fMi.js";function q(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function te(i,t){i.d(1),t.delete(i.key)}function le(i,t,a,e,s,o,l,n,r,d,x,S){let _=i.length,y=o.length,f=_;const E={};for(;f--;)E[i[f].key]=f;const M=[],H=new Map,V=new Map,w=[];for(f=y;f--;){const c=S(s,o,f),g=a(c);let v=l.get(g);v?w.push(()=>v.p(c,t)):(v=d(g,c),v.c()),H.set(g,M[f]=v),g in E&&V.set(g,Math.abs(f-E[g]))}const A=new Set,I=new Set;function u(c){O(c,1),c.m(n,x),l.set(c.key,c),x=c.first,y--}for(;_&&y;){const c=M[y-1],g=i[_-1],v=c.key,j=g.key;c===g?(x=c.first,_--,y--):H.has(j)?!l.has(v)||A.has(v)?u(c):I.has(j)?_--:V.get(v)>V.get(j)?(I.add(v),u(c)):(A.add(j),_--):(r(g,l),_--)}for(;_--;){const c=i[_];H.has(c.key)||r(c,l)}for(;y;)u(M[y-1]);return L(w),M}function U(i,t,a){const e=i.slice();return e[3]=t[a],e}function B(i,t,a){const e=i.slice();return e[6]=t[a],e}function ae(i){let t,a=q(i[3].media),e=[];for(let s=0;s<a.length;s+=1)e[s]=J(B(i,a,s));return{c(){t=k("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=b(s,"DIV",{class:!0});var o=D(t);for(let l=0;l<e.length;l+=1)e[l].l(o);o.forEach(m),this.h()},h(){h(t,"class","flex overflow-x-auto snap-x snap-mandatory gap-1 py-1")},m(s,o){$(s,t,o);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,null)},p(s,o){if(o&1){a=q(s[3].media);let l;for(l=0;l<a.length;l+=1){const n=B(s,a,l);e[l]?e[l].p(n,o):(e[l]=J(n),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=a.length}},d(s){s&&m(t),Z(e,s)}}}function J(i){let t,a;return{c(){t=k("img"),this.h()},l(e){t=b(e,"IMG",{src:!0,alt:!0,loading:!0,decoding:!0,fetchpriority:!0,class:!0}),this.h()},h(){ee(t.src,a=i[6])||h(t,"src",a),h(t,"alt",""),h(t,"loading","lazy"),h(t,"decoding","async"),h(t,"fetchpriority","low"),h(t,"class","h-60 object-cover rounded")},m(e,s){$(e,t,s)},p:z,d(e){e&&m(t)}}}function K(i,t){var A;let a,e,s,o=t[1](t[3].date)+"",l,n,r,d,x=t[3].title+"",S,_,y,f,E,M,H=t[3].summaryHtml+"",V,w=((A=t[3].media)==null?void 0:A.length)>0&&ae(t);return{key:i,first:null,c(){a=k("div"),e=k("div"),s=k("time"),l=P(o),n=T(),r=k("div"),d=k("a"),S=P(x),_=T(),w&&w.c(),y=T(),f=k("div"),E=k("div"),M=new Y(!1),V=T(),this.h()},l(I){a=b(I,"DIV",{class:!0});var u=D(a);e=b(u,"DIV",{class:!0});var c=D(e);s=b(c,"TIME",{class:!0});var g=D(s);l=G(g,o),g.forEach(m),n=N(c),r=b(c,"DIV",{class:!0});var v=D(r);d=b(v,"A",{href:!0,class:!0});var j=D(d);S=G(j,x),j.forEach(m),v.forEach(m),c.forEach(m),_=N(u),w&&w.l(u),y=N(u),f=b(u,"DIV",{class:!0});var C=D(f);E=b(C,"DIV",{class:!0});var F=D(E);M=X(F,!1),F.forEach(m),C.forEach(m),V=N(u),u.forEach(m),this.h()},h(){h(s,"class","text-gray-500 text-sm [font-variant-numeric:tabular-nums]"),h(d,"href",`/projects/${t[3].slug}`),h(d,"class","break-words hover:underline"),h(r,"class","text-black overflow-hidden"),h(e,"class","grid grid-cols-[auto,1fr] gap-1 text-left pb-5"),M.a=null,h(E,"class","content"),h(f,"class","w-full max-w-[840px] py-2 pb-5 text-base leading-[1.2rem]"),h(a,"class","border-b border-gray-200 mb-2"),this.first=a},m(I,u){$(I,a,u),p(a,e),p(e,s),p(s,l),p(e,n),p(e,r),p(r,d),p(d,S),p(a,_),w&&w.m(a,null),p(a,y),p(a,f),p(f,E),M.m(H,E),p(a,V)},p(I,u){var c;t=I,((c=t[3].media)==null?void 0:c.length)>0&&w.p(t,u)},d(I){I&&m(a),w&&w.d()}}}function se(i){let t,a,e=[],s=new Map,o=q(i[0]);const l=n=>n[3].slug;for(let n=0;n<o.length;n+=1){let r=U(i,o,n),d=l(r);s.set(d,e[n]=K(d,r))}return{c(){t=k("main"),a=k("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=b(n,"MAIN",{class:!0});var r=D(t);a=b(r,"DIV",{class:!0});var d=D(a);for(let x=0;x<e.length;x+=1)e[x].l(d);d.forEach(m),r.forEach(m),this.h()},h(){h(a,"class","space-y-2"),h(t,"class","mx-auto max-w-screen-2xl px-2 text-black text-[1.4rem] leading-[1.4rem] text-balance")},m(n,r){$(n,t,r),p(t,a);for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,null)},p(n,[r]){r&3&&(o=q(n[0]),e=le(e,r,l,1,n,o,s,a,te,K,null,U))},i:z,o:z,d(n){n&&m(t);for(let r=0;r<e.length;r+=1)e[r].d()}}}function ne(i,t,a){let{data:e}=t;const s=e.projects||[],o=l=>{if(!l)return"â€”";if(/^\d{4}(-\d{4})?$/.test(l))return l;const n=new Date(l);return isNaN(n)?l:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(n)};return i.$$set=l=>{"data"in l&&a(2,e=l.data)},[s,o,e]}class re extends Q{constructor(t){super(),R(this,t,ne,se,W,{data:2})}}export{re as component};
